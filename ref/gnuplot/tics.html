<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="ja">
<head>
<title> gnuplot / tics </title>
<!-- Generated 1999/ 7/21 -->
<!-- $Id: tics.html,v 1.13 2004/12/21 06:51:55 kawano Exp $ -->
<meta http-equiv="content-type" content="text/html;charset=iso-2022-jp">
<link rel="stylesheet" href="style-new.css" type="text/css">
</head>
<body>

<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr><td bgcolor="#cccc90" width="320">
    <div align="left">
    <a href="index.html">
    <img src="image/gnuplot_logo2.png" alt="GNUPLOT" width="320" height="90">
    </a></div></td>
    <td bgcolor="#cccc90">
      <div align="center"><h3> - not so Frequently Asked Questions - </h3> </div>
      <div class="update"> update 2004/9/5 </div>
    </td>
</tr>
<tr><td bgcolor="#fae8ba"></td>
    <td bgcolor="#fae8ba"><div class="navi"> 
<a href="index.html">           HOME </a> |
<a href="intro/index.html">     INTRODUCTION </a> |
<a href="general.html">         INFORMATION </a> |
<a href="gallery/index.html">   GALLERY </a> |
<a href="tics-e.html">          ENGLISH </a>
</div></td></tr>
</table>
<hr class="topsep">


<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr><td id="menu">
 <p> not so FAQ</p>
  <ul>
    <li><a href="legend.html">      凡例(Legend) </a>
    <li><a href="tics.html">        目盛(Tics) </a>
    <ul>
      <li><a href="tics.html#3.1">
           表示を変える </a>
      <li><a href="tics.html#3.2">
           10の冪乗で表示 </a> 
      <li><a href="tics.html#3.3">
           表示形式 </a>
      <li><a href="tics.html#3.4">
           数字だけを消す </a>
      <li><a href="tics.html#3.5">
           中間の数字 </a>
    </ul>
    <li><a href="label.html">       ラベル(Label) </a>
    <li><a href="plot1.html">       2次元プロット </a>
    <li><a href="plot3d.html">      3次元プロット </a>
    <li><a href="polar.html">       極座標プロット </a>
    <li><a href="parametric.html">  媒介変数表示 </a>
    <li><a href="datafile.html">    データファイルの数値 </a>
    <li><a href="postproc.html">    図を描いたその後は</a>
    <li><a href="misc1.html">       その他 </a>
  </ul>
 <br>
</td>


<td id="content">


<h1><a name="top"> 目盛あれこれ </a></h1>




<h2><a name="3.1">目盛の表示を変えるには？ </a></h2>


<p> 軸に描かれる目盛には，大きな目盛(major tics)と小さな目盛(minor tics)が
あります．軸の数字は大きな目盛のある所に書かれます．デフォルトでは，小さな
目盛は対数プロットのときだけ描かれます．</p>

<p>大きな目盛の表示を変えるには，<tt> set {x|y}tics </tt>を使います．</p>
<pre class="sample">
gnuplot&gt; set xtics 2
gnuplot&gt; set ytics 0,200
gnuplot&gt; plot x**3
</pre>
<img src="fig/sample3.1a.png" alt="fig/sample3.1a" align="left" width="303" height="225">

<p> X軸の目盛は増分だけを指定した場合で，目盛の数値は2づつ増加します．
Y軸では目盛の初期値と増分を指定した場合で，0から200づつ増加します．Yが
0未満の部分には目盛が表示されません．<tt>set ytics 0,200,600</tt>
の様に終了値(600)を指示することもできます．</p>
<br clear="all">

<p>小さな目盛は，<tt> set m{x|y}tics </tt>を使い，大きな目盛を何分割
するかで与えます．上の例で，X,Yの目盛の間に中点を付けたい場合は，
次のようにします．</p>

<pre class="sample">
gnuplot&gt; set mxtics 2   
gnuplot&gt; set mytics 2 
</pre>
<img src="fig/sample3.1b.png" alt="fig/sample3.1b" align="left" width="302" height="231">
<br clear="all">

<p> 目盛の数値は，任意の文字に置き換えることができます．X座標が
1から4までの4点で与えられてるデータがあるとして，この1から4
の位置に"April"や"May"等の別の文字を置くには，次のようにします．</p>

<pre class="sample">
gnuplot&gt; set xtics ("April" 1, "May" 2, "June" 3, "July" 4)
gnuplot&gt; plot "test.dat" using 1:2:3 notitle with boxes,\
              "test.dat" using 1:2   notitle with lines
</pre>
<img src="fig/sample3.1c.png" alt="fig/sample3.1c" align="left" width="305" height="233">

<p> この様に，大目盛を変えてしまうと，小目盛をset mxtics で設定しても
無視され，小目盛は表示されません．</p>
<br clear="all">


<p> 目盛の長さを変えるには，<tt>set ticscale</tt> を使います．数値を一
つ指定すると，大目盛の長さが，その数だけ倍されます．この時，小目盛は自
動的に大目盛の半分の長さになります．指定した数値が2つなら，2番目は小目
盛に適用されます．<tt>set ticscale 1 1</tt> とすると，大目盛と小目盛の
長さは同じになります．</p>

<p> 標準では，目盛は枠の内側に描かれます．これを外向きにするには，
<tt> set tics out </tt>を使います．</p>




<div class="top"><a href="tics.html#top"><img src="image/mark-up.png" alt="up"></a></div>
<h2><a name="3.2">対数プロットで，数値を10の冪乗で表示したい．</a></h2>


<p> gnuplotの数値の<a href="tics.html#3.3">表示のフォーマット</a>は，デフォルト
では "%g"です．対数グラフを描くとき，グラフの数値が適当な大きさ(0.0001
以上，100000以下)に入っていれば0.01, 1000等の"F"フォーマットの数値で表
示されますが，その範囲を越えると1e-05, 1e+06の様に"E"フォーマットに切
り替わります．</p>

<p>数値を10の冪で表示するには，<tt>set format</tt> で軸のフォーマットを
"10^{%L}"に変更します．%Lの部分に10の指数が入ります．X windowの画面表示で
は，添字を付けることはできませんので，出力をenhanced postscriptにしま
す．</p>
<pre class="sample">
gnuplot&gt; set format y "10^{%L}"
gnuplot&gt; set terminal postscript eps enhanced 
gnuplot&gt; set ylabel "Y-AXIS" 2,0  
</pre>
<img src="fig/sample3.2.png" alt="fig/sample3.2" align="left" width="422" height="501">
フォーマットをこの例の様に指定すると，y軸と軸名が離れすぎてしまうよう
です．そのため，<tt>set ylabel</tt> のxオフセット
のオプションを与えて，2文字分ほど軸名を右に寄せました．
<br clear="all">




<div class="top"><a href="tics.html#top"><img src="image/mark-up.png" alt="up"></a></div>
<h2><a name="3.3">数値の表示形式(format)を変えるには？</a></h2>


<p>軸の数値の表示形式は，<tt>set format</tt> によって変えることができます．
<tt>set format</tt> に続けて，フォーマットを指定する軸(X, Y, Z, XY,
X2, Y2)を与え，さらにフォーマットの文字列を与えます．この文字列は，C言
語のprintfで使われるものと大体同じです．例えば，次の例は，X軸の数値を，
小数点以下3桁で，全体が10文字の長さで表示することを表します．</p>
<pre class="sample">
gnuplot&gt; set format x "%10.3f"
</pre>

<p>%の後に，表示する全体の桁数と小数点以下の桁数を書きます．
<tt>6.2</tt>なら，全体を6桁，小数点以下を2桁表示することを表し，実際の
表示は，"5.00"のようになります．ここは，<tt>6</tt>や，<tt>.2</tt>だけ
を書いても構いません．省略した方はデフォルトの桁数が使われます．</p>

<p>桁の表示に続いて，表示フォーマットを表すアルファベットを1文字
(f,e,E,g,x,X,o,t,l,s,T,L,S,c,P)与えます．デフォルトは"%g"で，数値が適
当な桁数の整数や小数で表せる範囲では"%.0f"で表示し，それ以外では"%e"フォー
マットに自動的に切り替わります．f,e,x,oのフォーマットは以下のようになっ
ています．eとE等の違いは，表示されるアルファベットが大文字か小文字かの
差です．"%O"はgnuplotのマニュアルには存在しますが，実際には正しく働き
ません(バグ?)．</p>

<div align="center"><table border="1" class="incontent">
<tr><th>Format</th><th> 意味       </th><th colspan=2> 例 (_はblank)      </th></tr>
<tr><td> f    </td><td> 小数点表示 </td><td> %6.3f  </td><td> __6.00      </td></tr>
<tr><td> e,E  </td><td> 指数表示   </td><td> %11.4e </td><td> _5.0000e+01 </td></tr>
<tr><td> x,X  </td><td> 16進数表示 </td><td> %x     </td><td> fffffffb    </td></tr>
<tr><td> o,O  </td><td> 8進数表示  </td><td> %o     </td><td> 37777766    </td></tr>
</table></div>


<p>t,l,T,Lは主に対数表示に関係します．y=exp(-x)+exp(x)という関数を
[-10:10]の範囲でプロットする場合を考えます．Y軸の数値は大きく変化しま
すが，最初は対数ではなくて普通のプロットをしてみます．formatによる表示
の変化が分かりやすいように，同時に数種類のformatで表示してみましょう．</p>
<pre class="sample">
gnuplot&gt; set format y "%T %t %g"
gnuplot&gt; plot exp(-x)+exp(x)
</pre>
<img src="fig/sample3.3a.png" alt="fig/sample3.3a" align="left" width="399" height="299">

<p>この様にformatを指定すると，Y軸に3種類の数字が書かれます．右から，
"%T", "%t", "%g"に対応しています．この表示を見て分かるように，"%t"は実
際のY軸の数値の数字部分(仮数部)を表し，"%T"は10の冪乗(指数部)を表し
ています．つまり，"%t"の部分をA，"%T"の部分をBとすると，"%g"で表現され
る数値は，A x 10^Bとなっています．</p>
<br clear="all">

<p>次にこれを対数表示します．</p>
<pre class="sample">
gnuplot&gt; set logscale y
gnuplot&gt; replot
</pre>
<img src="fig/sample3.3b.png" alt="fig/sample3.3b" align="left" width="399" height="299">

<p>この様に，"%t"で表される部分は全て1になり，"%T"にはY軸の対数が入り
ます．Y軸に指数を表示したければ，formatに"%T"を与えればよいわけです．
また，Postscriptに出力する場合のように，上付の数値表示が出来るterminal
であれば，"10^{%T}"とすることで，10の冪乗を表示することができます．</p>
<br clear="all">

<p>普通の対数プロットでは，tとl，TとLは全く同一になります．対数の底を
10では無く別のものにすると，これらの表示結果が異なります．tとTは，10を
底にした普通の対数プロット，lとLは<tt>set logscale</tt> <i>axis
base</i>で指定したときのものに対応しています．10以外の底を使った対数プ
ロットをすることはあまり無いでしょうから，これらは同じものと考えても良
いでしょう．</p>

<p>formatは数値の表示方法を与えるだけではなく，色々な文字を入れること
もできます．たとえば，<tt> set format x "%g km" </tt>
のように指定すると，数字に続けて"km"という単位が表示されます．</p>




<div class="top"><a href="tics.html#top"><img src="image/mark-up.png" alt="up"></a></div>
<h2><a name="3.4">目盛は残して，数字だけを消すには？ </a></h2>

<p> <a href="tics.html#3.3">上の項目</a>の応用で簡単にできます．</p>
<pre class="sample">
gnuplot&gt; set format x ""
</pre>




<div class="top"><a href="tics.html#top"><img src="image/mark-up.png" alt="up"></a></div>
<h2><a name="3.5">対数プロットで2や5のような間の数字を書きたい． </a></h2>
<div align="right"><i> from Chriss in Univ. Tuebingen. Thanks !</i></div>

<p> 対数プロットでは，軸の数値は10の冪乗の部分だけに書くのが普通ですが，
軸のレンジがそれほど広くない場合(例えば最大値と最小値の比が2桁程度の範
囲のとき) 2や5のような間の数字も書いておくと図が読みやすくなる場合があ
ります．gnuplot では数字は<tt> set {x|y}tic </tt>で指定する大目盛の部
分だけに数字が書かれますので，中間部分に数字を書くにはここに大目盛を持っ
て来る必要があります．対数目盛の場合は，書きたい目盛の位置を手で設定す
る必要があります．</p>

<pre class="sample">
gnuplot&gt; set logscale y
gnuplot&gt; set yrange [1:50]
gnuplot&gt; set ytics (1,2,5,10,20,50)
gnuplot&gt; set format y "%2.0t{/Symbol \327}10^{%L}"
gnuplot&gt; set lmargin 8
gnuplot&gt; set terminal postscript eps enhanced
gnuplot&gt; plot exp(x)/x
</pre>

<img src="fig/sample3.5.png" alt="fig/sample3.5" align="left" width="371" height="260">

<p> <tt>set format</tt>で指定したPostscriptのシンボルは・になります．
×にしたいときは<tt>{/Symbol \264}</tt>を使います．</p>

<p> ここで上げた方法は，システムによってはうまく行かない場合があるよう
です．例えば50.0という数値を"%t"と"%L"のformatで表記するとき，5.0と1
(5.0E+01) という数字が得られれば良いのですが，場合によっては0.5と2
(0.5E+02) を返すようなシステムがあり，その場合は軸上の50という数値が
0x10^2と言うように変になってしまいます．対数グラフにゼロは無いはず．</p> 



<div class="top"><a href="tics.html#top"><img src="image/mark-up.png" alt="up"></a></div>
</td></tr></table>
<hr class="topsep">


</body>
</html>

