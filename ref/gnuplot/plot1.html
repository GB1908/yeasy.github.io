<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="ja">
<head>
<title> gnuplot / plot (1)</title>
<!-- Generated 1999/ 7/21 -->
<!-- $Id: plot1.html,v 1.11 2004/12/19 09:23:44 kawano Exp $ -->
<meta http-equiv="content-type" content="text/html;charset=iso-2022-jp">
<link rel="stylesheet" href="style-new.css" type="text/css">
</head>
<body>

<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr><td bgcolor="#cccc90" width="320">
    <div align="left">
    <a href="index.html">
    <img src="image/gnuplot_logo2.png" alt="GNUPLOT" width="320" height="90">
    </a></div></td>
    <td bgcolor="#cccc90">
      <div align="center"><h3> - not so Frequently Asked Questions - </h3> </div>
      <div class="update"> update 2004/9/5 </div>
    </td>
</tr>
<tr><td bgcolor="#fae8ba"></td>
    <td bgcolor="#fae8ba"><div class="navi"> 
<a href="index.html">           HOME </a> |
<a href="intro/index.html">     INTRODUCTION </a> |
<a href="general.html">         INFORMATION </a> |
<a href="gallery/index.html">   GALLERY </a> |
<a href="plot1-e.html">         ENGLISH </a>
</div></td></tr>
</table>
<hr class="topsep">


<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr><td id="menu">
 <p> not so FAQ</p>
  <ul>
    <li><a href="legend.html">      凡例(Legend) </a>
    <li><a href="tics.html">        目盛(Tics) </a>
    <li><a href="label.html">       ラベル(Label) </a>
    <li><a href="plot1.html">       2次元プロット </a>
    <ul>
      <li><a href="plot1.html#5.1">
           一定の大きさ </a>
      <li><a href="plot1.html#5.2">
           左右両方のY軸 </a>
      <li><a href="plot1.html#5.3">
           軸を消す </a>
      <li><a href="plot1.html#5.4">
           縦横比の固定された図 </a>
      <li><a href="plot2.html#5.5">
           ゼロ軸 </a>
      <li><a href="plot2.html#5.6">
           誤差棒の横線 </a>
      <li><a href="plot2.html#5.7">
           文字を大きく</a>
      <li><a href="plot2.html#5.8">
           曲線で補間</a>
      <li><a href="plot2.html#5.9">
           枠線上データ点を消す </a>
      <li><a href="plot3.html#5.10">
           複数のグラフ </a>
      <li><a href="plot3.html#5.11">
           格子 </a>
      <li><a href="plot4.html#5.12">
           複数の軸 </a>
      <li><a href="plot4.html#5.13">
           任意の格子 </a>
      <li><a href="plot5.html#5.14">
           図中の図 </a>
      <li><a href="plot5.html#5.15">
           棒グラフ </a>
      <li><a href="plot6.html#5.16">
           2つの図を並べる．</a>
      <li><a href="plot7.html#5.17">
           正規確率軸 </a>
      <li><a href="plot7.html#5.18">
           データ値を印刷 </a>
    </ul>
    <li><a href="plot3d.html">      3次元プロット </a>
    <li><a href="polar.html">       極座標プロット </a>
    <li><a href="parametric.html">  媒介変数表示 </a>
    <li><a href="datafile.html">    データファイルの数値 </a>
    <li><a href="postproc.html">    図を描いたその後は</a>
    <li><a href="misc1.html">       その他 </a>
  </ul>
 <br>
</td>


<td id="content">


<h1><a name="top"> 2次元プロットのあれこれ (その1)</a></h1>

<div align="center">
<a href="plot1.html"> 1 </a> | 
<a href="plot2.html"> 2 </a> | 
<a href="plot3.html"> 3 </a> | 
<a href="plot4.html"> 4 </a> | 
<a href="plot5.html"> 5 </a> | 
<a href="plot6.html"> 6 </a> | 
<a href="plot7.html"> 7 </a>
</div>

<h2><a name="5.1">図の大きさがいつも一定になるようにしたい．</a></h2>

<p>gnuplotが描くグラフの領域は，軸の数字やラベルによって変化します．
この領域を固定したいときは，<tt>margin</tt>を調整します．marginには，
上(tmargin)下(bmargin)左(lmargin)右(rmargin)があり，デフォルトでは
全てが自動計算されるようになっています．現在の設定は，</p>
<pre class="sample">
gnuplot&gt; show margin

        lmargin is computed automatically
        bmargin is computed automatically
        rmargin is computed automatically
        tmargin is computed automatically
</pre>
<p>で見ることができます．marginに与える数値は，文字数です．</p>

<p>例として全てのmarginを指定した場合を示します．</p>
<pre class="sample">
gnuplot&gt; set lmargin 10
gnuplot&gt; set bmargin 3
gnuplot&gt; set rmargin 2
gnuplot&gt; set tmargin 1
</pre>
<p>この様にしておいて，X，Y軸の目盛のフォーマットを変えてみます．</p>
<div align="center">
  <img src="fig/sample5.1a.png" alt="fig/sample5.1a" width="453" height="320">
  <img src="fig/sample5.1b.png" alt="fig/sample5.1b" width="453" height="318">
</div>
<p>軸のラベルの位置は変わってしまいましたが，グラフの枠の大きさは
同じままです．ラベルの位置も固定するには，<tt>set {x|y}label</tt>
にあるオフセットのオプションを指定する必要があります．</p>



<div class="top"><a href="plot1.html#top"><img src="image/mark-up.png" alt="up"></a></div>
<h2><a name="5.2">左右両方のY軸を使いたい．</a></h2>

<p>複数の図を一つにまとめて描きたいときが良くあります．gnuplotでは上下
左右の軸に別々の目盛を割り振ることができ，右側のY軸はY2軸，上のX軸はX2
軸として使うことができます．</p>

<p>Y2軸は，何もしなければ左側のY軸と同じです．Y2のレンジをYと違うように
してみて，sin(x)とsin(x)の2乗をプロットしてみましょう．どちらのY軸を使って
図をスケールするのかは，<tt>plot</tt>のオプションにある<tt>axis</tt>で指定します．
axisに続けてx1y1, x1y2, x2y1, x2y2 のいづれかを与えて，表示するときに使う
軸を決めます．x1y2なら，下側のX軸と右側のY軸の目盛に合わせて表示することに
なります．</p>

<pre class="sample">
gnuplot&gt; set xrange [0:2*pi] 
gnuplot&gt; set yrange [-1:1] 
gnuplot&gt; set y2range [0:1]  
gnuplot&gt; plot sin(x)    axis x1y1, \
              sin(x)**2 axis x1y2 
</pre>
<div align="center"><img src="fig/sample5.2a.png" alt="fig/sample5.2a" width="453" height="318"></div>

<p> このままでは，右の軸に描かれる目盛は，左の軸と同じままです．0〜1の
範囲に合わせた目盛を出力し，さらに，左のY1軸の目盛を右側に描かないよう
にするには，次のようにnomirrorを指定します．勿論，
<tt> set y2tics 0,0.1</tt>の様にY2軸の最小目盛と増分を指定すること
もできます．</p>

<pre class="sample">
gnuplot&gt; set y2tics 0, 0.2
gnuplot&gt; set ytics nomirror
</pre>
<img src="fig/sample5.2b.png" alt="fig/sample5.2b" align="left" width="454" height="319">
<p>このようにしてプロットした図では，どの線を右の軸で読むのかをはっきりと
させる必要があります．そのときは，<tt>set arrow </tt>
を使って右向きと左向きの<a href="label2.html#4.5">矢印を図に描き込めばよいでしょう．</a></p>

<br clear="all">


<div class="top"><a href="plot1.html#top"><img src="image/mark-up.png" alt="up"></a></div>
<h2><a name="5.3">軸を消したい．</a></h2>

<p> gnuplotは上下左右に枠を作って，その中に図をプロットしますが，この
枠を表示したり消したりするには，<tt>set border</tt>
を使います．上下左右の軸には，1(下)，2(左)，4(上)，8(右)の数値が与えられており，
特定の軸を表示したい時は，その軸の数字を加えたものを与えます．1ならX1軸だけ，
3ならX1とY1軸，31なら全部になります．但し，この数字を変えただけでは，
目盛だけが残ってしまい，軸を完全に消すことはできません．
<tt>set no{x|y}tics</tt>や<tt>set {x|y}tics nomirror</tt>などで，
目盛を表示させないようにする必要があります．
以下の例はX1Y1軸だけを使って表示するものです．</p>
<pre class="sample">
gnuplot&gt; set border 3
gnuplot&gt; set xtics nomirror
gnuplot&gt; set ytics nomirror
</pre>
<div align="center"><img src="fig/sample5.3.png" alt="fig/sample5.3" width="452" height="318"></div>



<div class="top"><a href="plot1.html#top"><img src="image/mark-up.png" alt="up"></a></div>
<h2><a name="5.4">正方形や，縦横比の固定された長方形の図を描きたい．</a></h2>

<p>昔のgnuplotでは不可能の一つとして有名でしたが，今ではサポートされて
います．図を正方形にするには，<tt>set size </tt>で<tt>square</tt>を指定します．</p>

<pre class="sample">
gnuplot&gt; set size square
</pre>

<p>同様に，縦横比を固定するには，次のようにします．</p>

<pre class="sample">
gnuplot&gt; set size ratio 2
</pre>

<p> この場合，Y軸がX軸の2倍になります．squreやratioで指定する軸の長さ
比は，軸の数値(つまりX,Yのレンジ)には関係しません．X,Y軸の単位に対して
その比を固定するには，ratioの数値を負にします．-1にすると，X軸の単位長
さとY軸の単位長さが等しくなります．-2なら，Y軸は2倍の長さになります．</p>


<div align="center"><table border="0">
<tr><td><img src="fig/sample5.4a.png" alt="fig/sample5.4a" width="220" height="229"></td></tr>
<tr><td align="center"> square </td></tr>
</table></div>


<div align="center"><table border="0">
<tr><td><img src="fig/sample5.4b.png" alt="fig/sample5.4b" width="136" height="225"></td>
    <td><img src="fig/sample5.4c.png" alt="fig/sample5.4c" width="296" height="178"></td></tr>
<tr><td align="center"> ratio 2 </td>
    <td align="center"> ratio 0.5 </td>
</table></div>


<div align="center"><table border="0">
<tr><td><img src="fig/sample5.4d.png" alt="fig/sample5.4d" width="228" height="231"></td>
    <td><img src="fig/sample5.4e.png" alt="fig/sample5.4e" width="136" height="232"></td>
    <td><img src="fig/sample5.4f.png" alt="fig/sample5.4f" width="92" height="227"></td></tr>
<tr><td align="center"> ratio -1 </td>
    <td align="center"> ratio -2 </td>
    <td align="center"> ratio -4 </td>
</table></div>

<div class="top"><a href="plot1.html#top"><img src="image/mark-up.png" alt="up"></a></div>

</td></tr></table>
<hr class="topsep">


</body>
</html>

