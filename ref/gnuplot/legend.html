<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="ja">
<head>
<title> gnuplot / legend </title>
<!-- Generated 1999/ 7/23 -->
<!-- $Id: legend.html,v 1.13 2005/11/20 08:04:36 kawano Exp $ -->
<meta http-equiv="content-type" content="text/html;charset=iso-2022-jp">
<link rel="stylesheet" href="style-new.css" type="text/css">
</head>
<body>

<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr><td bgcolor="#cccc90" width="320">
    <div align="left">
    <a href="index.html">
    <img src="image/gnuplot_logo2.png" alt="GNUPLOT" width="320" height="90">
    </a></div></td>
    <td bgcolor="#cccc90">
      <div align="center"><h3> - not so Frequently Asked Questions - </h3> </div>
      <div class="update"> update 2004/9/5 </div>
    </td>
</tr>
<tr><td bgcolor="#fae8ba"></td>
    <td bgcolor="#fae8ba"><div class="navi"> 
<a href="index.html">           HOME </a> |
<a href="intro/index.html">     INTRODUCTION </a> |
<a href="general.html">         INFORMATION </a> |
<a href="gallery/index.html">   GALLERY </a> |
<a href="legend-e.html">        ENGLISH </a>
</div></td></tr>
</table>
<hr class="topsep">


<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr><td id="menu">
 <p> not so FAQ</p>
  <ul>
    <li><a href="legend.html">      凡例(Legend) </a>
    <ul>
      <li><a href="legend.html#2.1">
           凡例を消したい</a>
      <li><a href="legend.html#2.2">
           凡例の表示場所</a>
      <li><a href="legend.html#2.3">
           凡例の中の誤差棒</a>
      <li><a href="legend.html#2.4">
           記号の表示位置</a>
      <li><a href="legend.html#2.5">
           行間隔を調整</a>
      <li><a href="legend.html#2.6">
           枠を付ける</a>
    </ul>
    <li><a href="tics.html">        目盛(Tics) </a>
    <li><a href="label.html">       ラベル(Label) </a>
    <li><a href="plot1.html">       2次元プロット </a>
    <li><a href="plot3d.html">      3次元プロット </a>
    <li><a href="polar.html">       極座標プロット </a>
    <li><a href="parametric.html">  媒介変数表示 </a>
    <li><a href="datafile.html">    データファイルの数値 </a>
    <li><a href="postproc.html">    図を描いたその後は</a>
    <li><a href="misc1.html">       その他 </a>
  </ul>
 <br>
</td>


<td id="content">





<h1><a name="top"> 凡例(Legend)あれこれ </a></h1>

<div align="right"> でもなんで，keyなんて呼ぶんだろう．．．．</div>


<h2><a name="2.1">凡例を消したい．</a></h2>

<p> 2つの方法があります．一つは，</p>
<pre class="sample">
gnuplot&gt; set nokey
</pre>
<p>とする方法で，凡例は全部消えます．もう一つは，plotする際に <tt> notitle
</tt> を指定する方法です．こちらでは，指定したものの凡例だけが消え
ます．次の例では関数 f(x)の凡例だけが消えます．</p>
<pre class="sample">
gnuplot&gt; plot f(x) notitle, "file.dat" title "data"
</pre>




<div class="top"><a href="legend.html#top"><img src="image/mark-up.png" alt="up"></a></div>
<h2><a name="2.2">凡例の表示場所を変えたい．</a></h2>

<p>標準では，凡例は右上に表示されます．これを変えるには
<tt>set key </tt>を使います．</p>
<pre class="sample">
gnuplot&gt; set key left bottom
</pre>
<p>とすると，左下になります．指定できるオプションは，次の通りです．</p>
<div align="center">
<table border="1" class="incontent">
<tr> <td> left    </td> <td> 左側   </td> </tr>
<tr> <td> right   </td> <td> 右側   </td> </tr>
<tr> <td> top     </td> <td> 上側   </td> </tr>
<tr> <td> bottom  </td> <td> 下側   </td> </tr>
<tr> <td> outside </td> <td> 図の右側の外 </td> </tr>
<tr> <td> below   </td> <td> 図の下側の外 </td> </tr>
</table></div>
<p>幾つかのものは組み合わせて指定できます．outside bottomなら，
右外側の下の方に凡例が表示されます．</p>



<p> 凡例を表示する座標を， <a name="2.2a">直接指定する</a>こともできます．</p>
<pre class="sample">
gnuplot&gt; set key 100,100
</pre>
<p>なら，(X,Y)=(100,100)の位置に表示されます．一つ目の凡例の，
表題と点や線の真中が，このときの座標になります．この座標はプロットしている
XY軸の数値と一致しています．プロットに関係なく任意の座標での位置を
与えるには，<a href="label2.html#4.4">座標系</a>の項目を参照してください．</p>



<div class="top"><a href="legend.html#top"><img src="image/mark-up.png" alt="up"></a></div>
<h2><a name="2.3">凡例の中の誤差棒を消したい．</a></h2>

<p> 誤差付きのデータをプロットすると，凡例中の記号にも誤差棒が付きます
が，Y-方向に誤差があっても凡例中ではX-方向になってしまいます．これなら
誤差棒が無い方がマシなので，これを表示させないようにします．あいにくと
うまい方法が思い付かないので，次のようにしてみました．</p>

<p>次のデータ(test.dat)をプロットする場合を考えます．</p>
<pre class="file">
#  X     Y     Y-error
   1.0   1.2   0.2
   2.0   1.8   0.3
   3.0   1.6   0.2
</pre>
<p>これをプロットすると，</p>
<pre class="sample">
gnuplot&gt; set xrange [0:4]
gnuplot&gt; set yrange [0:3] 
gnuplot&gt; plot "test.dat" usi 1:2:3 title "data" w yerrorbars
</pre>
<div align="center"><img src="fig/sample2.3a.png" alt="fig/sample2.3a" width="292" height="221"></div>
<p>この様に，凡例中の誤差棒は横向きになってしまいます．<br>
ちょっとダサイですが</p>
<pre class="sample">
gnuplot&gt; set xrange [0:4]
gnuplot&gt; set yrange [0:3] 
gnuplot&gt; plot "test.dat" usi 1:2:3 notitle        w yerrorbars 1,\
              "test.dat" usi 1:2     title "data" w points     1
</pre>
なんてやると，誤差棒は消えます．
<div align="center"><img src="fig/sample2.3b.png" alt="fig/sample2.3b" width="295" height="221"></div>




<div class="top"><a href="legend.html#top"><img src="image/mark-up.png" alt="up"></a></div>
<h2><a name="2.4">テキスト中にポストスクリプトの記号を使うと，表示位置がおかしくなる．</a></h2>

<p> 凡例の中のテキスト(plotコマンドのtitleオプションで付けられるもの)
の中で，{/Symbol a}のようにポストスクリプトで記号を表示する場合，凡例
の表示位置がおかしくなる場合があります．例えば，<tt> set key left
</tt>で図の左側に凡例を寄せようとしても，左に空白が出てしまいます．こ
れは，凡例の表示場所を計算する際に，{/Symbol a}を "α" 一文字として数
えてくれないために起こります．凡例を左に寄せても，中のテキストは右揃え
ですので，余分な文字数の分だけ右に寄ってしまいます．凡例表示の際に，
<a href="legend.html#2.2a">表示位置を直接指定する</a>他には，正しい位置に持って来る
手段は無いようです．</p>




<div class="top"><a href="legend.html#top"><img src="image/mark-up.png" alt="up"></a></div>
<h2><a name="2.5">行間隔を調整する．</a></h2>

<p> 凡例の行間隔は，<tt> set key spacing </tt>で変えられます．行間隔を1.5倍
にするには，<tt> set key spacing 1.5 </tt>とします．</p>


<div class="top"><a href="legend.html#top"><img src="image/mark-up.png" alt="up"></a></div>
<h2><a name="2.6">凡例に枠を付ける．</a></h2>

<p> 凡例に枠を付けるには，<tt> set key box </tt>とします．枠の線種は，グラフの
枠線と同じもの(-1の線種)になります．これを変えるには，boxに続けて線種の数字を
与えます．また，次の様に，ユーザ定義の線種を与えることもできます．</p>

<pre class="sample">
gnuplot&gt; set linestyle 1 lt 2 lw 3
gnuplot&gt; set key box linestyle 1
</pre>

<p> gnuplot ver.4.0の場合は以下のようにします．</p>
<pre class="sample">
gnuplot&gt; set style line 1 lt 2 lw 3
gnuplot&gt; set key box linestyle 1
</pre>

<div class="top"><a href="legend.html#top"><img src="image/mark-up.png" alt="up"></a></div>
</td></tr></table>
<hr class="topsep">

</body>
</html>

