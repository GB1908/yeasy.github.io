<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="en">
<head>
<title> gnuplot / plot (6E) </title>
<!-- Generated 2003/ 2/17 -->
<!-- $Id: plot6-e.html,v 1.7 2004/12/19 09:23:44 kawano Exp $ -->
<meta http-equiv="content-type" content="text/html;charset=us-ascii">
<link rel="stylesheet" href="style-new.css" type="text/css">
</head>
<body>

<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr><td bgcolor="#cccc90" width="320">
    <div align="left">
    <a href="index-e.html">
    <img src="image/gnuplot_logo2.png" alt="GNUPLOT" width="320" height="90">
    </a></div></td>
    <td bgcolor="#cccc90">
      <div align="center"><h3> - not so Frequently Asked Questions - </h3> </div>
      <div class="update"> update 2004/9/5 </div>
    </td>
</tr>
<tr><td bgcolor="#fae8ba"></td>
    <td bgcolor="#fae8ba"><div class="navi"> 
<a href="index-e.html">         HOME </a> |
<a href="intro/index-e.html">   INTRODUCTION </a> |
<a href="general-e.html">       INFORMATION </a> |
<a href="gallery/index-e.html"> GALLERY </a> |
<a href="plot6.html">           JAPANESE </a>
</div></td></tr>
</table>
<hr class="topsep">


<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr><td id="menu">
 <p> not so FAQ</p>
  <ul>
    <li><a href="legend-e.html">     Legend </a>
    <li><a href="tics-e.html">       Tics </a>
    <li><a href="label-e.html">      Label </a>
    <li><a href="plot1-e.html">      2-D Plot </a>
    <ul>
      <li><a href="plot1-e.html#5.1">
           fixed-size plot </a>
      <li><a href="plot1-e.html#5.2">
           both sides of Y-axes </a>
      <li><a href="plot1-e.html#5.3">
           erase axes </a>
      <li><a href="plot1-e.html#5.4">
           fixed aspect ratio figure </a>
      <li><a href="plot2-e.html#5.5">
           zero axis </a>
      <li><a href="plot2-e.html#5.6">
           small bars of error bars </a>
      <li><a href="plot2-e.html#5.7">
           larger letters </a>
      <li><a href="plot2-e.html#5.8">
           smooth curves. </a>
      <li><a href="plot2-e.html#5.9">
           points on border </a>
      <li><a href="plot3-e.html#5.10">
           several figures </a>
      <li><a href="plot3-e.html#5.11">
           grid at minor tics </a>
      <li><a href="plot4-e.html#5.12">
           two axes </a>
      <li><a href="plot4-e.html#5.13">
           grid at an arbitrary position </a>
      <li><a href="plot5-e.html#5.14">
           figure in figure </a>
      <li><a href="plot5-e.html#5.15">
           bar-chart </a>
      <li><a href="plot6-e.html#5.16">
           Align two figures </a>
      <li><a href="plot7-e.html#5.17">
           normal probability axis </a>
    </ul>
    <li><a href="plot3d-e.html">     3-D Plot </a>
    <li><a href="polar-e.html">      Polar Coordinate </a>
    <li><a href="parametric-e.html"> Parametric Functions </a>
    <li><a href="datafile-e.html">   Data File </a>
    <li><a href="postproc-e.html">   After Plotting </a>
    <li><a href="misc1-e.html">      Miscellaneous Stuff </a>
  </ul>
</td>


<td id="content">


<h1><a name="top"> About 2-Dimensional Plot (No.6)</a></h1>

<div align="center">
<a href="plot1-e.html"> 1 </a> | 
<a href="plot2-e.html"> 2 </a> | 
<a href="plot3-e.html"> 3 </a> | 
<a href="plot4-e.html"> 4 </a> | 
<a href="plot5-e.html"> 5 </a> | 
<a href="plot6-e.html"> 6 </a> | 
<a href="plot7-e.html"> 7 </a>
</div>


<h2><a name="5.16">Align two figures those show the same data in a different way.</a></h2>

<p> Here we present a method to align two figures vertically or
     horizontally, those are essentially the same data but in a
     different appearance. You probably need such a figure in the next
     cases.</p>

<ul>
 <li> <a href="plot6-e.html#side"> Place two figures in a different scale. </a>
    <ul>
       <li> When you want to enlarge a certain X-range. For example, you want 
            to magnify the small X region and plot the data there with a
            log-scale, and the other part is in a linear scale. 
    </ul>
 <li> <a href="plot6-e.html#atop">  Compare two similar data with each other 
      by absolute values and ratio. </a>
    <ul>
       <li> When you are plotting two different data whose Y values are
            very close each other, you are probably very hard to
            distinguish two lines. If you want to show the fact that
            those two data are very similar, such a figure might be OK.
            However, if you want to show the similarity of those data
            quantitatively, you can calculate a ratio of one data to the
            other, and plot them to show the deviation from ratio=1.  We
            divide one figure into two parts, and plot a comparison of
            the absolute values in the upper potion, and the lower is
            the ratio of them. 
   </ul>
</ul>


<hr width="50%">

<div class="top"><a href="plot6-e.html#top"><img src="image/mark-up.png" alt="up"></a></div>
<h2><a name="side">Place two figures in a different scale. </a></h2>
<img src="fig/sample5.16a.png" alt="fig/sample5.16a" width="400" height="300" align="left">

<p> Here is an example data. This figure shows the X-range of [0:30],
     but the data near X=0 are also important, and you want to show
     there in detail. Of course you can make two figures in a different
     scale, but we combine those two. Firstly we plot the data below 1
     in the log-scale.</p>
<br clear="all">

<pre class="sample">
gnuplot&gt; set log xy
gnuplot&gt; set xrange [ 0.001 : 1 ]
gnuplot&gt; set yrange [ 0.1 : 5000 ]
gnuplot&gt; set xlabel "Energy [eV]"
</pre>

<p> For the data in [1:30] we use the linear-scale plot, and we place
     this adjacent to the log-scale figure by using <tt> multiplot
     </tt>.  In order to adhere the high-X region figure (right side) to
     the low-X (left side), we let the <tt>rmargin</tt> of left figure
     be zero, and <tt>lmargin</tt> of the right side is also zero. The
     width of those two figure is a half of full-width, then the right
     side figure is sifted by 0.5 by using <tt> set origin </tt>.

<p> We need the Y-tics for the left side figure, but we don't need it
     for the right side. So that <tt> set lmargin 10 </tt> is defined
     for the left, while <tt>lmargin</tt> is zero for the right. In
     addition, <tt> set format ""</tt> erases <a href="tics-e.html#3.4">
     Y-axis values.</a></p>

<pre class="sample">
gnuplot&gt; set multiplot
multiplot&gt; set size 0.5,1
multiplot&gt; set origin 0.0,0.0
multiplot&gt; set lmargin 10
multiplot&gt; set rmargin 0
multiplot&gt; plot "calc.dat" u 1:2 w l
multiplot&gt; set origin 0.5,0.0
multiplot&gt; set format y ""
multiplot&gt; set lmargin 0
multiplot&gt; set rmargin 2
multiplot&gt; set nolog x
multiplot&gt; set xrange [1:30]
multiplot&gt; set xtic 0,10
multiplot&gt; set mxtic 5
multiplot&gt; plot "calc.dat" u 1:2 w l
multiplot&gt; set nomultiplot
gnuplot&gt;
</pre>

<img src="fig/sample5.16b.png" alt="fig/sample5.16b" width="400" height="300" align="left">

<p> You have to say clearly that the figures on the left and right are
     in the different scale. To do this we put minor tics on the X-axis.
     At the border between two drawings, sometimes X-axis numbers are
     overlapped. The command <tt>set xtics 0,10</tt>(initial value 0,
     increment 10) avoids the tics at X=1.</p>

<p> By the way, we know that this example data become linear in a log-log scale
     at small X-values, because this is some physical quantity. 
     It is possible to demonstrate such a characteristic very easily
     if you divide one figure into two regions.</p>
<br clear="all">

<p> In this example the X-axis name is drawn twice, but you can make it
     one in the middle of the whole figure. For the left side, you erase
     the axis name by <tt> set xlabel ""</tt>, and move the label on the
     right side by <tt> set xlabel "Energy [eV]" -20,0</tt>. In this case
     you need to <tt> set bmargin 5</tt> to fix the bottom margin.</p>


<hr width="50%">

<div class="top"><a href="plot6-e.html#top"><img src="image/mark-up.png" alt="up"></a></div>
<h2><a name="atop">Compare two similar data with each other by absolute values and ratio. </a></h2>

<p> If you want to compare two sets of data those are very close, it is
     useful that those data are plotted absolutely, and the ratio of
     those data are given at the same time. The comparison of absolute
     values are in the log-scale which goes upper part, while the ratio
     is in the linear-scale shown in the lower part.</p>

<p> In order to calculate the ratio of one data to another, the X values
     of those data should be the same. In our data file, the first column
     contains the X value, the second column is the Y value of the first
     data set, and the third column is the Y of second set.</p>

<p> Firstly we set some X-axis parameters those are common to the upper
     and lower figures. The X range is [0.01:30]. To make the width of
     those figures be the same, we define margins of left and right sides
     explicitly.</p>

<pre class="sample">
gnuplot&gt; set xrange [ 0.01 : 30 ]
gnuplot&gt; set nokey
gnuplot&gt; set log x
gnuplot&gt; set xtics 10
gnuplot&gt; set mxtics 10
gnuplot&gt; set lmargin 10
gnuplot&gt; set rmargin 2
</pre>

<p> Make the lower part which shows the ratio data. The hight is
     reduced to 0.4, the Y-range is from 0.5 to 1.5, and put the
     graduations from 0.6 to 1.4 with the interval of 0.2. To make a
     space of the X-axis name, use <tt> set bmargin</tt>, and to attach
     the upper part, <tt> set tmargin 0 </tt> removes the extra-space
     above. The Y values of two data sets are in the second and third
     column of the data file. To plot the ratio of the first data to the
     second ones, <tt> plot 1:($2/$3)</tt>. In addition, a straight line
     of Y=1 is helpful to show the ratio data. </p>

<pre class="sample">
gnuplot&gt; set multiplot
multiplot&gt; set yrange [ 0.5 : 1.5 ]
multiplot&gt; set ytic 0.6,0.2,1.4
multiplot&gt; set ylabel "Ratio"
multiplot&gt; set size 1,0.4
multiplot&gt; set xlabel "Energy [eV]"
multiplot&gt; set origin 0.0,0.0
multiplot&gt; set bmargin 3
multiplot&gt; set tmargin 0
multiplot&gt; plot 1 w l 0,"cross.dat" u 1:($2/$3) w l 1
</pre>

<p> Now we make the upper part. Make the size smaller, move the origin
     to the left-top corner of the lower part. The two data sets are
     shown in the log-scale. <tt> set bmargin 0 </tt> removes the
     extra-space below. The X-axis name and numbers should be
     erased.</p>

<pre class="sample">
multiplot&gt; set log xy
multiplot&gt; set yrange [ 0.1 : 5000 ]
multiplot&gt; set ytic 0.1,10
multiplot&gt; set ylabel "Cross Section [b]"
multiplot&gt; set size 1,0.6
multiplot&gt; set origin 0.0,0.4
multiplot&gt; set bmargin 0
multiplot&gt; set tmargin 1
multiplot&gt; set format x ""
multiplot&gt; set xlabel ""
multiplot&gt; plot "cross.dat" u 1:2 w l,"" u 1:3 w l
multiplot&gt; set nomultiplot
gnuplot&gt; 
</pre>

<img src="fig/sample5.16c.png" alt="fig/sample5.16c" width="400" height="300" align="left">

<p> Since we erased the legend in this example, it is not easy to
     understand that the ratio shown here is A to B, or B to A. If you
     see the upper figure, you might recognize that this is the ratio of
     red curve to the green curve, because the red is lower than the
     green. However such a statement should be given in a caption of
     this figure.</p>

<p> You can see <a href="gallery/twofig.html">an example of EPS </a> in
     our gallery. </p>


<br clear="all">
<div class="top"><a href="plot6-e.html#top"><img src="image/mark-up.png" alt="up"></a></div>
</td></tr></table>
<hr class="topsep">


</body>
</html>

