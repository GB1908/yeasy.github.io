<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="ja">
<head>
<title> gnuplot / intro / basic </title>
<!-- Generated 1999/ 8/18 -->
<!-- $Id: basic.html,v 1.12 2004/12/17 07:34:07 kawano Exp $ -->
<meta http-equiv="content-type" content="text/html;charset=iso-2022-jp">
<link rel="stylesheet" href="../style-new.css" type="text/css">
</head>
<body>

<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr><td bgcolor="#cccc90" width="320">
    <div align="left">
    <a href="../index.html">
    <img src="../image/gnuplot_logo2.png" alt="GNUPLOT" width="320" height="90">
    </a></div></td>
    <td bgcolor="#cccc90">
      <div align="center"><h3> - not so Frequently Asked Questions - </h3> </div>
      <div class="update"> update 2004/8/30 </div>
    </td>
</tr>
<tr><td bgcolor="#fae8ba"></td>
    <td bgcolor="#fae8ba"><div class="navi"> 
<a href="../index.html">          HOME </a> |
                                  INTRODUCTION |
<a href="../general.html">        INFORMATION </a> |
<a href="../gallery/index.html">  GALLERY </a> |
<a href="basic-e.html">           ENGLISH </a>
</div></td></tr>
</table>
<hr class="topsep">


<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr><td id="menu">
 <p> <a href="index.html">   gnuplot入門  </a></p>
 <ul> 
   <li><a href="basic.html">   基本の基本編  </a>
   <ul>
     <li> <a href="basic.html#exit">  終了，読み込み，保存 </a>
     <li> <a href="basic.html#plot">  プロット実行 </a>
     <li> <a href="basic.html#set">   パラメータ変更 </a>
     <li> <a href="basic.html#shell"> shell </a>
     <li> <a href="basic.html#var">   関数定義，計算 </a>
   </ul>
   <li> <a href="plotcalc.html">数値計算編 </a>
   <li> <a href="plotexp.html"> 実験データ編 </a>
   <li> <a href="plotfunc.html">関数表示編 </a>
   <li> <a href="working.html"> 生活編 </a>
   <li> <a href="style.html">   スタイル一覧 </a>
 </ul>
</td>

<td id="content">


<h1><a name="top"> gnuplot 入門 --- 基本の基本編 --- 起動から終了まで </a></h1>

<p> gnuplotは多くのプラットフォーム(OS)に移植されていますので，使い方
の詳細はプラットフォームによって少々変わってきます．ここでは，UNIXの
X11からgnuplotを使う方法を説明しますが，他のOSで使う場合も基本的な部分
は変わらないはずです．</p>

<p> まずコマンドラインからgnuplotを起動します．クレジットが表示された
後，<tt>"gnuplot&gt; "</tt> というプロンプトが表示されます．これがgnuplot
のコマンドラインで，ここにコマンドを対話的に入力しながら作業を進めます．
</p>

<pre class="sample">
% gnuplot
 
        G N U P L O T
        Version 4.0 patchlevel 0
        last modified Thu Apr 15 14:44:22 CEST 2004
        System: Linux 2.4.23
 
        Copyright (C) 1986 - 1993, 1998, 2004
        Thomas Williams, Colin Kelley and many others
 
        This is gnuplot version 4.0.  Please refer to the documentation
        for command syntax changes.  The old syntax will be accepted
        throughout the 4.0 series, but all save files use the new syntax.
 
        Type `help` to access the on-line reference manual.
        The gnuplot FAQ is available from
                http://www.gnuplot.info/faq/
 
        Send comments and requests for help to
                &lt;gnuplot-info@lists.sourceforge.net&gt;
        Send bugs, suggestions and mods to
                &lt;gnuplot-bugs@lists.sourceforge.net&gt;
 
 
Terminal type set to 'x11'
gnuplot&gt; 
</pre>

<p><tt> "gnuplot&gt; " </tt> のプロンプトで使えるコマンドには，大きく分けて</p>
<ul>
  <li> <a href="basic.html#exit">  終了，ファイル読み込み，保存のためのコマンド </a>
  <li> <a href="basic.html#plot">  プロット実行の為のコマンド </a>
  <li> <a href="basic.html#set">   プロットでのパラメータを変更するためのコマンド </a>
  <li> <a href="basic.html#shell"> shellに関するコマンド </a>
  <li> <a href="basic.html#var">   関数の定義，変数への代入，変数内容の表示，計算のためのコマンド </a>
</ul>
<p>等があります．本当は非常に多くのコマンドが使えるのですが，全てを網羅的
に説明するのは不可能です．gnuplotにはオンラインヘルプが付いていますの
で，詳細は<tt> help </tt>コマンドで調べてください．ここでは簡単な例を
使って，通常の作業の流れを概説します．</p>

<div class="top"><a href="basic.html#top"><img src="../image/mark-up.png" alt="up"></a></div>
<h2><a name="exit">終了，ファイル読み込み，保存のためのコマンド </a></h2>

<p> gnuplotは <tt> exit </tt> か <tt> quit </tt> コマンドで終了します．
終了すると，それまでの作業内容は全て失われます．これを保存するには 
<tt> save </tt> コマンドを用います．saveコマンドに続けて保存するファイ
ル名をシングルクォートもしくはダブルクォートで囲って与えます．ファ
イル名は何を指定してもかまいませんが，存在するファイル名を指定すると上
書きされます．「上書きしても良いですか？」などという親切なダイアログは
出ません．</p>


<pre class="sample">
gnuplot&gt; save "savefile.plt"
</pre>

<p> <a href="savefile.plt">保存したファイル</a>は通常のテキストファイ
ルなので，エディタを使って内容を修正できます．このファイルを使って，再度gnuplotを
実行するには，gnuplotのコマンドラインで <tt> load "savefile.plt" </tt>とするか，
gnuplot起動時にコマンドラインオプションとしてこのファイル名を与えます．この
場合は引用符は不要です．</p>


<p> gnuplotの中で</p>
<pre class="sample">
gnuplot&gt; load "savefile.plt"
</pre>

<p> shellのコマンドラインから </p>
<pre class="sample">
 % gnuplot savefile.plt
</pre>

<p> loadでファイルを読み込む方法と起動時のオプションでの読み込みでは，
     gnuplotの動作が異なります．loadコマンドを使う方法では，ファイルを読
     み込んだ後は <tt> gnuplot&gt; </tt>のプロンプトが出され，通常の対話モー
     ドとなります．起動時のオプションで与える方法では，ファイルを最後ま
     で読み込んでコマンドを実行した後，gnuplotは終了します．つまりこの方
     法では，gnuplotは<a href="working.html#batch">バッチモード</a>で動
     くわけです．このバッチモードでは，画面に図を表示するのではなく，例
     えばPostScriptファイルを一気に作成してしまう場合などに便利です．
     </p>




<div class="top"><a href="basic.html#top"><img src="../image/mark-up.png" alt="up"></a></div>
<h2><a name="plot">プロット実行の為のコマンド </a></h2>

<p>プロットを実行するコマンドは2つです．2次元プロットでは <tt> plot
</tt>，3次元プロットでは<tt> splot </tt>を使います．gnuplotが表示する
ものは，関数かファイルに書かれた数値データです．関数をプロットするには，
plotコマンドに続いて，Xの範囲(3次元なら XとYの範囲)と関数を与えます．
範囲を省略しても構いません．gnuplot解説書の定番であるy=sin(x)を表示してみましょう．
plotコマンドに続けて sin(x) をコマンドラインから与えます．
</p>

<pre class="sample">
gnuplot&gt; plot sin(x)
</pre>

<div align="center"><img src="basic1.png" alt="basic1" width="414" height="332"></div>


<p> これがgnuplotが表示する2次元グラフです．枠の線は太い実線で描かれま
す．これはborderと呼ばれます．凡例は右上に表示されます．gnuplotでは凡
例をkeyと呼びます．XとY軸には目盛(tics)が描かれ，目盛のある位置に数値
が記入されます．この目盛はmajor ticsと呼ばれる大目盛で，各区間を小さな
目盛でさらに分割することができます．この小目盛はminor ticsと呼ばれます．
上の図では描かれていませんが，軸に名前を入れることができます．X軸の名
前はxlabelと呼ばれ，X軸の中央下に表示されます．Y軸の名前はylabelですが，
この表示位置はgnuplotが図を表示している端末に依存します．ylabelは
90°回転した状態でY軸の左横に来るのが普通ですが，端末によっては文字の
回転が出来ないからです．その場合は，ylabelはY軸の上に書かれます．</p>


<p> 表示範囲を指定しないとき，gnuplotは適当にXやYの範囲をスケーリング
してくれます．上の例のように，Xの範囲を何も与えないなら -10 から +10の
範囲が選ばれ，Yの範囲は，このX区間でY座標がグラフからはみ出さない様に
自動的に決定されます．Xが0から5の範囲のみをプロットするなら，この範囲
を[0:5]の様に指定します．</p>

<pre class="sample">
gnuplot&gt; plot [0:5] sin(x)
</pre>

<div align="center"><img src="basic2.png" alt="basic2" width="414" height="332"></div>




<div class="top"><a href="basic.html#top"><img src="../image/mark-up.png" alt="up"></a></div>
<h2><a name="set">プロットでのパラメータを変更するためのコマンド</a></h2>

<p> プロットに関するパラメータは非常にたくさんあり，これらは
<tt>set</tt>コマンドで変更することができます．<tt>help </tt>コマンドで
オンラインヘルプを見ればsetで変更できるパラメータの詳細が分かります．
</p>

<pre class="sample">
gnuplot&gt; help set
 The `set` command can be used to sets _lots_ of options.  No screen is
 drawn, however, until a `plot`, `splot`, or `replot` command is given.

 The `show` command shows their settings;  `show all` shows all the
 settings.

 If a variable contains time/date data, `show` will display it according to
 the format currently defined by `set timefmt`, even if that was not in effect
 when the variable was initially defined.

Subtopics available for set:
      angles         arrow          autoscale      bar
      bmargin        border         boxwidth       clabel
      clip           cntrparam      contour        data
      dgrid3d        dummy          encoding       format
.....
      zero           zeroaxis       zlabel         zmtics
      zrange         ztics
</pre>

<p>幾つかの変数を変えてみましょう．まず，xlabelとylabelに文字列を与え
て，軸に名前を付けます．文字列は必ず引用符で囲みます．次にXとYの範囲を
与えます．先程の例では，plotコマンドに続いて範囲を指定しましたが，
xrangeとyrangeに値を設定しても表示範囲が変わります(注：rangeに範囲を設
定しても plot で別の範囲を指定するとplotの方が優先されます)</p>

<pre class="sample">
gnuplot&gt; set xlabel "X-AXIS"
gnuplot&gt; set ylabel "Y-AXIS"
gnuplot&gt; set xrange [0:5]
gnuplot&gt; set yrange [-2:2]
gnuplot&gt; plot sin(x)
</pre>

<div align="center"><img src="basic3.png" alt="basic3" width="414" height="332"></div>



<p> 標準では，gnuplotは画面にグラフを表示します．この出力先を変えて，
プリンタで印刷したりPostScriptの図を作ったりするために使うのが，
<tt>set terminal </tt>コマンドです．gnuplotはターミナル毎に，それに合っ
たドライバを使って図を描くことで，機種の依存性を無くしています．出力可
能なターミナルは，<tt> set terminal </tt>コマンドを実行すると分かりま
す．</p>

<pre class="sample">
gnuplot&gt; set terminal

Available terminal types:
          unknown  Unknown terminal type - not a plotting device
            table  Dump ASCII table of X Y [Z] values to output
            linux  Linux PC with (s)vgalib
             ....
             tpic  TPIC -- LaTeX picture environment with tpic \specials
         pstricks  LaTeX picture environment with PSTricks macros
          texdraw  LaTeX texdraw environment
               mf  Metafont plotting standard

gnuplot&gt; set terminal postscript
Terminal type set to 'postscript'
Options are 'landscape noenhanced monochrome dashed defaultplex "Helvetica" 14'
</pre>

<p>上の例のように，<tt> set terminal postscript </tt>とすると，gnuplot
はPostScriptの図を生成します．そのままの状態でplotコマンドを実行すると，
出来上がったPostScriptは画面上を流れて行ってしまいます．この出力先を変
更するのが <tt> set output </tt>です．outputに続けて出力ファイル名を指
定すれば，PostScriptはこのファイルに出力されます．これをPostScriptプリ
ンタに送れば印刷されたものが出来上がりです．</p>

<pre class="sample">
gnuplot&gt; set output "plot.ps"
gnuplot&gt; plot sin(x)
</pre>





<div class="top"><a href="basic.html#top"><img src="../image/mark-up.png" alt="up"></a></div>
<h2><a name="shell">shellに関するコマンド</a></h2>

<p> gnuplotから一時的にshellに抜けることができます．これには <tt>
shell </tt>コマンドを使います．exit でshellを終了し，gnuplotのプロンプ
トに戻ってきます．1行だけのshellコマンドなら，<tt> ! command </tt>を
使ってgnuplot内から実行することもできます．</p>

<p> pwd と cd は gnuplotのコマンドラインからでも実行できます．pwdはカ
レントディレクトリを表示します．gnuplotは起動時のディレクトリをカレン
トディレクトリとします．別のディレクトリに移動するには <tt>cd </tt>を
使いますが，<tt> cd "../" </tt>の様に，ディレクトリ名を必ず引用符で括
る必要があります．</p>




<div class="top"><a href="basic.html#top"><img src="../image/mark-up.png" alt="up"></a></div>
<h2><a name="var">関数の定義，変数への代入，変数内容の表示，計算のためのコマンド </a></h2>

<p> gnuplotではコマンドラインで簡単な計算をする事が出来ます．コマンド
ラインで，"変数=値"を入力すると，変数に数値が代入されます．変数の内容
を見るには <tt> print </tt> コマンドを使います．</p>

<pre class="sample">
gnuplot&gt; a=10
gnuplot&gt; print a
10
</pre>

<p> "変数=計算式" とすると，右辺の計算結果が変数に代入されます．計算は，
整数同士の演算以外は，倍精度で行われます．printに続けて計算式を与える
こともできます．これを使うと，gnuplotを関数電卓代わりに使うことができます．</p>

<pre class="sample">
gnuplot&gt; a=1+2*sqrt(3)
gnuplot&gt; print log(a)
1.49606798806764
</pre>


<p> 定義された変数はplotコマンドで関数をプロットするときに使えます．gnuplotで
は円周率πの値が変数piに入っています．これを使ってa*sin(x)を-2πから+2πの範囲で
表示してみましょう．ここでaには0.5を代入しておきます．</p>

<pre class="sample">
gnuplot&gt; set xrange [-2*pi:2*pi]
gnuplot&gt; a=0.5
gnuplot&gt; plot a*sin(x)
</pre>

<div align="center"><img src="basic4.png" alt="basic4" width="414" height="332"></div>


<p>ユーザは，自分で関数を定義することができます．例えば，sin(x)*cos(x)という
関数をf(x)という名前で使いたいなら，
<pre class="sample">
gnuplot&gt; f(x)=sin(x)*cos(x)
</pre>
のように定義します．以後，このf(x)という関数を使うことができます．関数の中に
ユーザが定義した変数を含めることもできます．上の関数f(x)を全て"a"倍するような
関数は，</p>
<pre class="sample">
gnuplot&gt; f(x)=a*sin(x)*cos(x)
</pre>
と書くことができます．この関数はaの値によって変化します．</p>


<div class="top"><a href="basic.html#top"><img src="../image/mark-up.png" alt="up"></a></div>
</td>
</tr></table>
<hr class="topsep">

</body>
</html>

