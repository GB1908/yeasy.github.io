<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="ja">
<head>
<title> gnuplot / plot (4) </title>
<!-- Generated 2000/ 2/16, Last modified 2002/ 4/10 -->
<!-- $Id: plot4.html,v 1.12 2004/12/19 09:23:44 kawano Exp $ -->
<meta http-equiv="content-type" content="text/html;charset=iso-2022-jp">
<link rel="stylesheet" href="style-new.css" type="text/css">
</head>
<body>

<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr><td bgcolor="#cccc90" width="320">
    <div align="left">
    <a href="index.html">
    <img src="image/gnuplot_logo2.png" alt="GNUPLOT" width="320" height="90">
    </a></div></td>
    <td bgcolor="#cccc90">
      <div align="center"><h3> - not so Frequently Asked Questions - </h3> </div>
      <div class="update"> update 2004/9/5 </div>
    </td>
</tr>
<tr><td bgcolor="#fae8ba"></td>
    <td bgcolor="#fae8ba"><div class="navi"> 
<a href="index.html">           HOME </a> |
<a href="intro/index.html">     INTRODUCTION </a> |
<a href="general.html">         INFORMATION </a> |
<a href="gallery/index.html">   GALLERY </a> |
<a href="plot4-e.html">         ENGLISH </a>
</div></td></tr>
</table>
<hr class="topsep">


<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr><td id="menu">
 <p> not so FAQ</p>
  <ul>
    <li><a href="legend.html">      凡例(Legend) </a>
    <li><a href="tics.html">        目盛(Tics) </a>
    <li><a href="label.html">       ラベル(Label) </a>
    <li><a href="plot1.html">       2次元プロット </a>
    <ul>
      <li><a href="plot1.html#5.1">
           一定の大きさ </a>
      <li><a href="plot1.html#5.2">
           左右両方のY軸 </a>
      <li><a href="plot1.html#5.3">
           軸を消す </a>
      <li><a href="plot1.html#5.4">
           縦横比の固定された図 </a>
      <li><a href="plot2.html#5.5">
           ゼロ軸 </a>
      <li><a href="plot2.html#5.6">
           誤差棒の横線 </a>
      <li><a href="plot2.html#5.7">
           文字を大きく</a>
      <li><a href="plot2.html#5.8">
           曲線で補間</a>
      <li><a href="plot2.html#5.9">
           枠線上データ点を消す </a>
      <li><a href="plot3.html#5.10">
           複数のグラフ </a>
      <li><a href="plot3.html#5.11">
           格子 </a>
      <li><a href="plot4.html#5.12">
           複数の軸 </a>
      <li><a href="plot4.html#5.13">
           任意の格子 </a>
      <li><a href="plot5.html#5.14">
           図中の図 </a>
      <li><a href="plot5.html#5.15">
           棒グラフ </a>
      <li><a href="plot6.html#5.16">
           2つの図を並べる．</a>
      <li><a href="plot7.html#5.17">
           正規確率軸 </a>
      <li><a href="plot7.html#5.18">
           データ値を印刷 </a>
    </ul>
    <li><a href="plot3d.html">      3次元プロット </a>
    <li><a href="polar.html">       極座標プロット </a>
    <li><a href="parametric.html">  媒介変数表示 </a>
    <li><a href="datafile.html">    データファイルの数値 </a>
    <li><a href="postproc.html">    図を描いたその後は</a>
    <li><a href="misc1.html">       その他 </a>
  </ul>
<br>
</td>


<td id="content">



<h1><a name="top"> 2次元プロットのあれこれ (その4) </a></h1>

<div align="center">
<a href="plot1.html"> 1 </a> | 
<a href="plot2.html"> 2 </a> | 
<a href="plot3.html"> 3 </a> | 
<a href="plot4.html"> 4 </a> | 
<a href="plot5.html"> 5 </a> | 
<a href="plot6.html"> 6 </a> | 
<a href="plot7.html"> 7 </a>
</div>


<h2><a name="5.12">スケールの違う複数の軸を描きたい．</a></h2>

<p> 一つのグラフに，目盛が違う2つ以上の軸を付けたい場合があります．例
えば，横軸が温度のグラフで摂氏と絶対温度(K)を同時に目盛る場合や，経時
変化の目盛に分と秒を同時に書く場合などです．これをするには，幾つかの方
法が考えられます．例えば，<a href="plot3.html#5.10">multiplot</a>を使っ
て2つのグラフを重ねるとか，<a href="plot1.html#5.2">反対側の軸を使う
</a>などです．multiplotを使うと，以下のようなこともできます．</p>

<p> X軸を2つ作る方法を例にします．まず縦方向を少し縮小し，bottomの
マージンを0にして，multiplotのモードに入ります．</p>

<pre class="sample">
gnuplot&gt; set size 1.0,0.7
gnuplot&gt; set bmargin 0
gnuplot&gt; set yrange [0:5]
gnuplot&gt; set multiplot
</pre>

<p> 図を少し上に移動した後，最初のグラフを描きます．下の例では，
y=exp(x)-1 という関数をプロットしています．X軸は「分」の単位を
持つとします．</p>

<pre class="sample">
multiplot&gt; set origin 0,0.3
multiplot&gt; set xrange [0:2]
multiplot&gt; set xtics 1
multiplot&gt; set xlabel "Time [min]"
multiplot&gt; plot exp(x)-1 notitle
</pre>

<p> 次に図を少し下げて，別の目盛で<a href="plot1.html#5.3">X軸だけを描
きます．</a> 上のグラフと重ならないように，<tt> set noytics </tt>, 
<tt> set xtics nomirror </tt> 等を指定しておきます．最後に，枠だけを
描くために，グラフからはみ出してしまうような適当な関数をプロットします．
ここではy=-1としました．</p>


<pre class="sample">
multiplot&gt; set origin 0,0.15
multiplot&gt; set xrange [0:120] 
multiplot&gt; set xtics nomirror 30 
multiplot&gt; set noytics
multiplot&gt; set xlabel "Time [sec]"
multiplot&gt; set border 1
multiplot&gt; plot -1 notitle
multiplot&gt; set nomultiplot
gnuplot&gt; 
</pre>

<img src="fig/sample5.12.png" alt="fig/sample5.12" align="left" width="400" height="300">
<p> あまりスマートな方法とは言えませんが，実用上問題ないでしょう．2つ
のX軸の間隔なども微調整しようとすると，色々と面倒です．実際にもっと綺
麗な図にしたいなら，普通にプロットしておいて，Tgifで別の軸を描き加える
方が良いでしょう．</p>


<div class="top"><a href="plot4.html#top"><img src="image/mark-up.png" alt="up"></a></div>
<h2><a name="5.13">任意の箇所に格子(grid)を描きたい．</a></h2>

<p> <tt> set grid </tt>で描かれるグリッド(格子)は大目盛(tics)のあ
る所に描かれますので，普通は等間隔です．これを任意の箇所に描くには，
<a href="tics.html"><tt> set tics </tt> を使って</a>大目盛の位置を
調整します．</p>

<p> 次の例では<tt> set xtics </tt>を使って，0.5, 1.2, 2.5 の3箇所に
ticsを付け，そこにグリッドを描いています．</p>

<pre class="sample">
gnuplot&gt; set xtics ("0.5" 0.5, "1.2" 1.2, "2.3" 2.3)
gnuplot&gt; set grid
</pre>

<div align="center"><img src="fig/sample5.13a.png" alt="fig/sample5.13a" width="400" height="300"></div>

<p> X軸では目盛を等間隔を保ったままで，グリッドの位置を変えるには，
X2軸(上の軸)を使います．<tt> set x2tics </tt>を使ってグリッドを
入れる位置を決め，<tt> set grid </tt> のオプションでX2軸だけに
グリッドを描くように指定します．</p>

<pre class="sample">
gnuplot&gt; set xtics 0,1
gnuplot&gt; set x2tics ("0.5" 0.5, "1.2" 1.2, "2.3" 2.3)
gnuplot&gt; set grid noxtics x2tics
</pre>

<div align="center"><img src="fig/sample5.13b.png" alt="fig/sample5.13b" width="400" height="300"></div>

<p> グラフの上に描かれる数字が煩わしいなら，<tt> set xtics "" 0.5 </tt>
の様に文字列を空白にしておきます．但し，数字は描かれませんが，X2軸
の大目盛は残ってしまいます．</p>


<div class="top"><a href="plot4.html#top"><img src="image/mark-up.png" alt="up"></a></div>
</td></tr></table>
<hr class="topsep">


</body>
</html>

