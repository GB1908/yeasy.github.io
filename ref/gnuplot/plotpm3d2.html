<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="ja">
<head>
<title> gnuplot / plotpm3d2 </title>
<!-- Generated 2004/12/20  -->
<!-- $Id: plotpm3d2.html,v 1.2 2006/04/18 15:12:17 kawano Exp $ -->
<meta http-equiv="content-type" content="text/html;charset=iso-2022-jp">
<link rel="stylesheet" href="style-new.css" type="text/css">
</head>
<body>

<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr><td bgcolor="#cccc90" width="320">
    <div align="left">
    <a href="index.html">
    <img src="image/gnuplot_logo2.png" alt="GNUPLOT" width="320" height="90">
    </a></div></td>
    <td bgcolor="#cccc90">
      <div align="center"><h3> - not so Frequently Asked Questions - </h3> </div>
      <div class="update"> update 2006/04/18 </div>
    </td>
</tr>
<tr><td bgcolor="#fae8ba"></td>
    <td bgcolor="#fae8ba"><div class="navi"> 
<a href="index.html">           HOME </a> |
<a href="intro/index.html">     INTRODUCTION </a> |
<a href="general.html">         INFORMATION </a> |
<a href="gallery/index.html">   GALLERY </a> |
<a href="plotpm3d2-e.html">     ENGLISH </a>
</div></td></tr>
</table>
<hr class="topsep">


<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr><td id="menu">
 <p> not so FAQ</p>
  <ul>
    <li><a href="legend.html">      凡例(Legend) </a>
    <li><a href="tics.html">        目盛(Tics) </a>
    <li><a href="label.html">       ラベル(Label) </a>
    <li><a href="plot1.html">       2次元プロット </a>
    <li><a href="plot3d.html">      3次元プロット </a>
    <ul>
      <li><a href="plot3d.html#6.1">
           Z軸のゼロ点 </a>
      <li><a href="plot3d.html#6.2">
           メッシュを細かく </a>
      <li><a href="plot3d.html#6.3">
           角度 </a>
      <li><a href="plot3d.html#6.4">
           等高線 </a>
      <li><a href="plot3d.html#6.5">
           等高線を2次元プロット </a>
      <li><a href="plot3d2.html#6.6">
           3次元格子 </a>
      <li><a href="plotpm3d.html#6.7">
           3次元カラー表示 </a>
          <a href="version.html"><b>[ver.4]</b></a>
      <li><a href="plotpm3d.html#6.8">
           等高線を色で表示 </a>
          <a href="version.html"><b>[ver.4]</b></a>
      <li><a href="plotpm3d.html#6.9">
           疑似3次元棒グラフ </a>
      <li><a href="plotpm3d2.html#6.10">
           pm3dの色を変える </a>
          <a href="version.html"><b>[ver.4]</b></a>
    </ul>
    <li><a href="polar.html">       極座標プロット </a>
    <li><a href="parametric.html">  媒介変数表示 </a>
    <li><a href="datafile.html">    データファイルの数値 </a>
    <li><a href="postproc.html">    図を描いたその後は</a>
    <li><a href="misc1.html">       その他 </a>
  </ul>
 <br>
</td>


<td id="content">


<h1><a name="top">カラーマップを使った3次元表示 (pm3d) </a></h1>

<div align="center">
<a href="plot3d.html">    1 </a> | 
<a href="plot3d2.html">   2 </a> |
<a href="plotpm3d.html">  3 </a> |
<a href="plotpm3d2.html"> 4 </a>
</div>

<h2><a name="6.10">3次元カラー表示の色を変えたい． </a></h2>
<p class="newver"> [ver.4] ONLY ! </p>


<p> 特に設定しなければ，pm3dは「黒→青→赤→黄」と変化するような配色を用
いて高さを表します．pm3dの配色を変えるには，<tt> set palette</tt>コマン
ドを用います．それに続くオプションにより，幾つかの色の変え方があります．
Z値の最小値が-3，最大値が1となる関数 f(x,y) = (2*sin(x)-1)*exp(-y) を考
え，最小値のときに青，最大値で赤，z=0の高さで白となるように，色を変えて
みます．</p>

<pre class="sample">
gnuplot&gt; set ticslevel 0
gnuplot&gt; set pm3d
gnuplot&gt; set palette defined (-3 "blue", 0 "white", 1 "red")
gnuplot&gt; splot (2*sin(x)-1)*exp(-y) with pm3d
</pre>

<div align="center"><img src="fig/sample6.10a.png" alt="fig/sample6.10a" width="400" height="200"></div>

<p> オプション<tt> defined </tt>に続けて，設定したいZ値の値と，その高さ
での色を与えます．pm3dは，与えられたZ値間で色を補間します．上の例では，
Z=-3とZ=0の間で，色は青から白に変化します．</p>

<p> この例では，Z=0で背景色と同じになるように設定されています．この様な
配色は，Z値がある値になる領域を図から目立たなくしたい場合に便利です．例
えば密度分布図を平面で表示する際，Z=0となる領域を除外する場合等です．上
の図を平面で表示すると，分りやすいでしょう．負の領域は青，正の領域は赤で
ハイライトされた散布図ができます．</p>

<pre class="sample">
gnuplot&gt; set pm3d map
gnuplot&gt; replot
</pre>

<div align="center"><img src="fig/sample6.10b.png" alt="fig/sample6.10b" width="400" height="250"></div>

<div class="top"><a href="plotpm3d2.html#top"><img src="image/mark-up.png" alt="up"></a></div>

<p> もう一つ別の色変更方法では，オプションとして <tt> rgbformulae </tt>，
それに続けて3つの整数値を与えます．それらの数字は，赤(R)/緑(G)/青(B) に
対して用いられる，ある決まった関数の番号になっています．例えば，<tt>
rgbformulae 0,0,3</tt> とすると，赤と緑は用いられず，Zの最小値から最大値
までが，黒から青へ直線的に変化するように対応付けられます．</p>

<p> 色を変化させる関数は0から36まで，計37個定義されています．上の例だと，
番号3は直線変化に対応しています．gnuplotのdefaultは，7,5,15で，7番の関数
はsqrt(x), 5はx^3, 15はsin(360x)となっています．定義されている関数は，
<tt> show palette rgbformurae </tt> で見ることができます．</p>


<p> <tt> palette rgbformulae </tt>を使って望みの色を得るのは，結構至難の技
ですが，<tt>help palette rgbformulae</tt>で，幾つかの例が得られます．
例えば，33,13,10の組合せは「虹」となっていて，以下のような配色です．</p>

<pre class="sample">
gnuplot&gt; set palette rgbformulae 33,13,10
gnuplot&gt; splot -x*x with pm3d
</pre>

<div align="center"><img src="fig/sample6.10c.png" alt="fig/sample6.10c" width="400" height="250"></div>

<p> その他，helpで紹介されている配色は，以下のようになっています．</p>

<div align="center">
<img src="fig/cb1.png" alt="fig/cb1" width="400" height="100"><br>
<img src="fig/cb2.png" alt="fig/cb2" width="400" height="100"><br>
<img src="fig/cb3.png" alt="fig/cb3" width="400" height="100"><br>
<img src="fig/cb4.png" alt="fig/cb4" width="400" height="100"><br>
<img src="fig/cb5.png" alt="fig/cb5" width="400" height="100">
</div>




<p> もひとつおまけの虹色．</p>

<pre class="sample">
gnuplot&gt; set pm3d map
gnuplot&gt; set size square
gnuplot&gt; set palette rgbformulae 22,13,-31
gnuplot&gt; splot -(x*x+y*y)
</pre>


<div align="center"><img src="fig/sample6.10d.png" alt="fig/sample6.10d" width="400" height="300"></div>

<div align="right"><i> from Martin in Czech Republic. Thanks !</i></div>



<div class="top"><a href="plotpm3d2.html#top"><img src="image/mark-up.png" alt="up"></a></div>
</td></tr></table>
<hr class="topsep">


</body>
</html>

