<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="ja">
<head>
<title> gnuplot / plot (5) </title>
<!-- Generated 2001/ 9/15 -->
<!-- $Id: plot5.html,v 1.14 2004/12/19 09:23:44 kawano Exp $ -->
<meta http-equiv="content-type" content="text/html;charset=iso-2022-jp">
<link rel="stylesheet" href="style-new.css" type="text/css">
</head>
<body>

<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr><td bgcolor="#cccc90" width="320">
    <div align="left">
    <a href="index.html">
    <img src="image/gnuplot_logo2.png" alt="GNUPLOT" width="320" height="90">
    </a></div></td>
    <td bgcolor="#cccc90">
      <div align="center"><h3> - not so Frequently Asked Questions - </h3> </div>
      <div class="update"> update 2004/12/14 </div>
    </td>
</tr>
<tr><td bgcolor="#fae8ba"></td>
    <td bgcolor="#fae8ba"><div class="navi"> 
<a href="index.html">           HOME </a> |
<a href="intro/index.html">     INTRODUCTION </a> |
<a href="general.html">         INFORMATION </a> |
<a href="gallery/index.html">   GALLERY </a> |
<a href="plot5-e.html">         ENGLISH </a>
</div></td></tr>
</table>
<hr class="topsep">


<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr><td id="menu">
 <p> not so FAQ</p>
  <ul>
    <li><a href="legend.html">      凡例(Legend) </a>
    <li><a href="tics.html">        目盛(Tics) </a>
    <li><a href="label.html">       ラベル(Label) </a>
    <li><a href="plot1.html">       2次元プロット </a>
    <ul>
      <li><a href="plot1.html#5.1">
           一定の大きさ </a>
      <li><a href="plot1.html#5.2">
           左右両方のY軸 </a>
      <li><a href="plot1.html#5.3">
           軸を消す </a>
      <li><a href="plot1.html#5.4">
           縦横比の固定された図 </a>
      <li><a href="plot2.html#5.5">
           ゼロ軸 </a>
      <li><a href="plot2.html#5.6">
           誤差棒の横線 </a>
      <li><a href="plot2.html#5.7">
           文字を大きく</a>
      <li><a href="plot2.html#5.8">
           曲線で補間</a>
      <li><a href="plot2.html#5.9">
           枠線上データ点を消す </a>
      <li><a href="plot3.html#5.10">
           複数のグラフ </a>
      <li><a href="plot3.html#5.11">
           格子 </a>
      <li><a href="plot4.html#5.12">
           複数の軸 </a>
      <li><a href="plot4.html#5.13">
           任意の格子 </a>
      <li><a href="plot5.html#5.14">
           図中の図 </a>
      <li><a href="plot5.html#5.15">
           棒グラフ </a>
      <li><a href="plot6.html#5.16">
           2つの図を並べる．</a>
      <li><a href="plot7.html#5.17">
           正規確率軸 </a>
      <li><a href="plot7.html#5.18">
           データ値を印刷 </a>
    </ul>
    <li><a href="plot3d.html">      3次元プロット </a>
    <li><a href="polar.html">       極座標プロット </a>
    <li><a href="parametric.html">  媒介変数表示 </a>
    <li><a href="datafile.html">    データファイルの数値 </a>
    <li><a href="postproc.html">    図を描いたその後は</a>
    <li><a href="misc1.html">       その他 </a>
  </ul>
 <br>
</td>


<td id="content">


<h1><a name="top"> 2次元プロットのあれこれ (その5) </a></h1>

<div align="center">
<a href="plot1.html"> 1 </a> | 
<a href="plot2.html"> 2 </a> | 
<a href="plot3.html"> 3 </a> | 
<a href="plot4.html"> 4 </a> | 
<a href="plot5.html"> 5 </a> | 
<a href="plot6.html"> 6 </a> | 
<a href="plot7.html"> 7 </a>
</div>


<h2><a name="5.14">図の中に図を描きたい </a></h2>

<p> グラフ中の空いた部分に，別の小さな図を描いてみましょう．よくあるの
は，図の込み入った部分の拡大図を作るものです．複数の図を同時に描くので，
ここでは<a href="plot3.html#5.10">multiplot</a>を使います．全体の図の
サイズを1としたときに，図中の図の縦横を0.5にしたものを作ります．
multiplotに入った後，まず全体の図を描きます．</p>

<pre class="sample">
gnuplot&gt; set xrange [ 0 : 20 ]
gnuplot&gt; set yrange [ 0 : 6 ]
gnuplot&gt; set xtics 5
gnuplot&gt; set ytics 1
gnuplot&gt; set multiplot
multiplot&gt; set origin 0.0,0.0
multiplot&gt; set size 1.0,1.0
multiplot&gt; plot "file.dat" u 1:2:3 notitle with yerrorbars,\
&gt;               "file.cal" u 1:2   notitle with lines
</pre>

<p> 図の原点を空いた部分(0.45,0.1)に移動した後，縮小したグラフを描きます．
     XとYのレンジは，拡大したい部分を指定します．拡大窓にプロットするの
     は，レンジが違う以外は上の全体のものと同じですので，<tt>replot</tt>
     を使うことができます．</p>

<pre class="sample">
multiplot&gt; set origin 0.45,0.1
multiplot&gt; set size 0.5,0.5
multiplot&gt; set xrange [ 1 : 5 ]
multiplot&gt; set yrange [ 2.4 : 3.0 ]
multiplot&gt; set ytics 0.5
multiplot&gt; replot
multiplot&gt; set nomultiplot
gnuplot&gt;
</pre>

<img src="fig/sample5.14.png" alt="fig/sample5.14" align="left" width="401" height="301">
<p> Xの小さい部分が拡大されて見やすくなっていませんか．ここでは，拡大
窓の位置をうまく設定して，両方の図が重ならないようにしていますが，全体
図中の線や点が拡大図の中に入ってしまうと，両者は重なって表示されてしま
います．gnuplotで，このような部分を消すことはできません．</p>

<p> 軸名を入れる場合は全体の図だけにしておき，小さい方の図には付けないほ
     うが良いでしょう．また，全体を縮小するEPSを作る場合は，全体の大きさ
     を決める<tt>set size </tt>は multiplotモードに入る前に定義しないと
     いけません．multiplotに入った後でサイズを定義しても，Postscriptファ
     イルに書き込まれるBoundingBoxは画面全体になってしまいます．完成品が
     <a href="gallery/nup.html">ぷろっとぎゃらりぃ</a> にありますので参
     考にしてください．</p>



<div class="top"><a href="plot5.html#top"><img src="image/mark-up.png" alt="up"></a></div>
<h2><a name="5.15"> 簡単な棒グラフ．</a></h2>

<p> <a href="intro/style.html#boxes">スタイル一覧</a>にあるように，
gnuplotが描く棒グラフ <tt> with boxes </tt> は中空の矩形になります．内
部の塗りつぶしはver.3.6以前のgnuplotはできませんが，ver.3.8から可能に
なりました．</p>

<p> Postscriptに出力するなら，非常に太い線を使って
<tt> with impluses</tt>で描くのが簡単です．下の例では，1番の線種の幅を50倍に
しています．</p>

<pre class="sample">
gnuplot&gt; set term postscript eps enhanced color
gnuplot&gt; set linestyle 1 lt 1 lw 50
gnuplot&gt; # for gnuplot ver.4
gnuplot&gt; # set style line 1 lt 1 lw 50
gnuplot&gt; plot "test.dat" using 1:2 with imp ls 1
</pre>

<div align="center">
<img src="fig/sample5.15.png" alt="fig/sample5.15" width="419" height="294">
</div>

<br clear="all">
<div class="top"><a href="plot5.html#top"><img src="image/mark-up.png" alt="up"></a></div>

<p class="newver"> [ver.4] ONLY ! </p>

<p> Ver.4以降では，box styleでの矩形を塗りつぶすオプションが追加されてい
ます．<tt> with boxes </tt> に <tt> fs [pattern | solid]
</tt>(fillstyle)のオプションを付けて作画します．<tt> set style fill
</tt>を用いて，塗りつぶすパターンを別に設定することもできます．</p>

<p> <tt> with boxes fs pattern </tt> の場合は，使用するパターンを番号で
指定します． <tt> solid </tt> の場合は，0から1までの塗りつぶしの濃さを
指定します．</p>

<p> 下の例では，棒の幅は3とし，これを(3)で与えています．</p>


<pre class="sample">
gnuplot&gt; plot "test.dat" usi 1:2:(3)      w boxes fs pattern 1,\
gnuplot&gt;      "test.dat" usi ($1+5):2:(3) w boxes fs solid 0.7
</pre>


<div align="center">
<img src="fig/sample5.15b.png" alt="fig/sample5.15b" width="400" height="300">
</div>

<div class="top"><a href="plot5.html#top"><img src="image/mark-up.png" alt="up"></a></div>
</td></tr></table>
<hr class="topsep">


</body>
</html>

