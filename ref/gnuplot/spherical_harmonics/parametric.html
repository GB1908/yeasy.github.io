<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="ja">
<head>
<title> gnuplot / spherical_harmonics / parametric </title>
<!-- Generated 2001/11/20-->
<!-- $Id: parametric.html,v 1.9 2004/12/19 09:23:51 kawano Exp $ -->
<meta http-equiv="content-type" content="text/html;charset=iso-2022-jp">
<link rel="stylesheet" href="../style-new.css" type="text/css">
</head>
<body>

<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr><td bgcolor="#cccc90" width="320">
    <div align="left">
    <a href="../index.html">
    <img src="../image/gnuplot_logo2.png" alt="GNUPLOT" width="320" height="90">
    </a></div></td>
    <td bgcolor="#cccc90">
      <div align="center"><h3> - not so Frequently Asked Questions - </h3> </div>
      <div class="update"> update 2004/11/16 </div>
    </td>
</tr>
<tr><td bgcolor="#fae8ba"></td>
    <td bgcolor="#fae8ba"><div class="navi"> 
<a href="../index.html">          HOME </a> |
<a href="../intro/index.html">    INTRODUCTION </a> |
<a href="../general.html">        INFORMATION </a> |
<a href="../gallery/index.html">  GALLERY </a> |
<a href="parametric-e.html">      ENGLISH </a>
</div></td></tr>
</table>
<hr class="topsep">


<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr><td id="menu">
 <p> <a href="index.html">   球面調和関数  </a></p>

 <ul>
  <li><a href="parametric.html"> 媒介変数表示 </a>
  <li><a href="spharm1.html">    球面調和関数 </a>
  <li><a href="spharm2.html">    種々の量子数 </a>
  <li><a href="deformed.html">   変形した原子核 </a>
      <a href="../version.html"><b>[ver.4]</b></a>
</ul>
</td>

<td id="content">

<h1><a name="top"> 媒介変数(parametric)表示 </a></h1>


<p> gnuplotで3次元関数を表示するには，変数<i> x,y </i>を使って z=f(x,y)という
形でz座標を表す方法と，媒介変数(3次元の場合は<i>u,v</i>)を用いて，</p>
<pre>
   x = f(u,v)
   y = g(u,v)
   z = h(u,v)
</pre>
<p>のように表現する方法があります．関数形f(x,y)が次のような簡単なものなら，
それを最初に定義しておいて，<tt>splot</tt>します．</p>

<pre class="sample">
gnuplot&gt; f(x,y)=sin(x)*cos(y)
gnuplot&gt; splot f(x,y)
</pre>

<p> しかし極座標表示されている関数は，簡単に "z=" の形で表現できないので，
その場合は媒介変数を用います．例えば，半径1の球面は x^2+y^2+z^2=1 なので，
z=sqrt(1-x*x-y*y) もしくは z = -sqrt(1-x*x-y*y)となり，zの正負2つの関数が
必要です．</p>

<p> パラメータで球面を表現するには，半径 r が一定という条件を変数u,vで
表すだけです．uとvを下の図にある角度として，これらを0から360まで変化
させ，その間に動径の長さ r が変化しないようにします．</p>

<img src="coordinate1.png" alt="coordinate1" align="left" width="319" height="252">

<p> 角度<i>u,v</i>と動径<i>r</i>を用いると，<i>x,y,z</i>の座標は次のよう
に表すことができます．</p>
<pre>
   x = r*cos(u)*cos(v)
   y = r*sin(u)*cos(v)
   z = r*sin(v)
</pre>

<p>球面は<i>r</i>=<i>a</i>=一定値なので，上の式の変数<i>r</i>を定数に
置き換えるだけです．a=1なら半径1の球面を表現します．</p>
<pre>
   x = cos(u)*cos(v)
   y = sin(u)*cos(v)
   z = sin(v)
</pre>

<br clear="all">

<p> gnuplotで媒介変数を用いて球面を描くには，次のようにします．</p>

<pre class="sample">
gnuplot&gt; set parametric

        dummy variable is t for curves, u/v for surfaces
gnuplot&gt; set angle degree
gnuplot&gt; set urange [0:360]
gnuplot&gt; set vrange [-90:90]
gnuplot&gt; set isosample 72,36
gnuplot&gt; set ticslevel 0
gnuplot&gt; set size 0.7,1.0
gnuplot&gt; a=1
gnuplot&gt; splot a*cos(u)*cos(v),a*sin(u)*cos(v),a*sin(v)
</pre>

<img src="sphere.png" alt="sphere" align="left" width="260" height="260">

<p> 角度の単位はdefaultではradですが，ちょっとメンドクサイのでこれを「度」
     にしておき，変数<i>u,v</i>の範囲を0から360度まで変化させます．<tt>
     set size </tt>で縦横の比率を変えていますが，これは表示が球らしく見
     えるように適当に与えたもので，意味はありません．これをしないと縦が
     潰れた饅頭型になります．</p>

<p>表示のメッシュの細かさは，<tt> set isosample </tt> で調整します．与え
     る数字が大きくなると，メッシュは細かくなります．最初の数字はuの数で，
     経度に対応する線の数が変わります．2番目はvの数で，緯度の線が変化し
     ます．</p>
<br clear="all">


<p> 上の式は少々長くて扱いにくいのですが，このような場合には予め関数を
定義しておくと便利です．</p>

<pre class="sample">
gnuplot&gt; fx(u,v)=cos(u)*cos(v)
gnuplot&gt; fy(u,v)=sin(u)*cos(v)
gnuplot&gt; fz(v)=sin(v)
gnuplot&gt; splot a*fx(u,v),a*fy(u,v),a*fz(v)
</pre>

<div class="top"><a href="parametric.html#top"><img src="../image/mark-up.png" alt="up"></a></div>
</td></tr></table>
<hr class="topsep">

</body>
</html>
