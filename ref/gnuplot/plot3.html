<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="ja">
<head>
<title> gnuplot / plot (3) </title>
<!-- Generated 1999/ 8/26 -->
<!-- $Id: plot3.html,v 1.12 2004/12/19 09:23:44 kawano Exp $ -->
<meta http-equiv="content-type" content="text/html;charset=iso-2022-jp">
<link rel="stylesheet" href="style-new.css" type="text/css">
</head>
<body>

<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr><td bgcolor="#cccc90" width="320">
    <div align="left">
    <a href="index.html">
    <img src="image/gnuplot_logo2.png" alt="GNUPLOT" width="320" height="90">
    </a></div></td>
    <td bgcolor="#cccc90">
      <div align="center"><h3> - not so Frequently Asked Questions - </h3> </div>
      <div class="update"> update 2004/9/5 </div>
    </td>
</tr>
<tr><td bgcolor="#fae8ba"></td>
    <td bgcolor="#fae8ba"><div class="navi"> 
<a href="index.html">           HOME </a> |
<a href="intro/index.html">     INTRODUCTION </a> |
<a href="general.html">         INFORMATION </a> |
<a href="gallery/index.html">   GALLERY </a> |
<a href="plot3-e.html">         ENGLISH </a>
</div></td></tr>
</table>
<hr class="topsep">


<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr><td id="menu">
 <p> not so FAQ</p>
  <ul>
    <li><a href="legend.html">      凡例(Legend) </a>
    <li><a href="tics.html">        目盛(Tics) </a>
    <li><a href="label.html">       ラベル(Label) </a>
    <li><a href="plot1.html">       2次元プロット </a>
    <ul>
      <li><a href="plot1.html#5.1">
           一定の大きさ </a>
      <li><a href="plot1.html#5.2">
           左右両方のY軸 </a>
      <li><a href="plot1.html#5.3">
           軸を消す </a>
      <li><a href="plot1.html#5.4">
           縦横比の固定された図 </a>
      <li><a href="plot2.html#5.5">
           ゼロ軸 </a>
      <li><a href="plot2.html#5.6">
           誤差棒の横線 </a>
      <li><a href="plot2.html#5.7">
           文字を大きく</a>
      <li><a href="plot2.html#5.8">
           曲線で補間</a>
      <li><a href="plot2.html#5.9">
           枠線上データ点を消す </a>
      <li><a href="plot3.html#5.10">
           複数のグラフ </a>
      <li><a href="plot3.html#5.11">
           格子 </a>
      <li><a href="plot4.html#5.12">
           複数の軸 </a>
      <li><a href="plot4.html#5.13">
           任意の格子 </a>
      <li><a href="plot5.html#5.14">
           図中の図 </a>
      <li><a href="plot5.html#5.15">
           棒グラフ </a>
      <li><a href="plot6.html#5.16">
           2つの図を並べる．</a>
      <li><a href="plot7.html#5.17">
           正規確率軸 </a>
      <li><a href="plot7.html#5.18">
           データ値を印刷 </a>
    </ul>
    <li><a href="plot3d.html">      3次元プロット </a>
    <li><a href="polar.html">       極座標プロット </a>
    <li><a href="parametric.html">  媒介変数表示 </a>
    <li><a href="datafile.html">    データファイルの数値 </a>
    <li><a href="postproc.html">    図を描いたその後は</a>
    <li><a href="misc1.html">       その他 </a>
  </ul>
 <br>
</td>


<td id="content">


<h1><a name="top"> 2次元プロットのあれこれ (その3) </a></h1>

<div align="center">
<a href="plot1.html"> 1 </a> | 
<a href="plot2.html"> 2 </a> | 
<a href="plot3.html"> 3 </a> | 
<a href="plot4.html"> 4 </a> | 
<a href="plot5.html"> 5 </a> | 
<a href="plot6.html"> 6 </a> | 
<a href="plot7.html"> 7 </a>
</div>

<h2><a name="5.10">幾つかのグラフを一つにまとめて描きたい．</a></h2>

<p> 複数のグラフを描くには，gnuplotのmultiplotを使う方法と，個別の図を
EPSで作っておいて，TeX等を使って<a href="postproc.html#8.2">後でまとめ
る方法</a>があります．ここではmultiplotの使い方を説明します．</p>

<p> <tt> set multiplot </tt> とすると，マルチプロットのモードに入り，プ
     ロンプトが<tt> multiplot&gt; </tt>に変わります．このモードでは，plotコ
     マンドで表示するたびに，新しい図が古い図に重なって表示されるように
     なります．y=x, y=x*x, y=x*x*x の3つのグラフを順次重ね描きしてみましょ
     う．</p>

<pre class="sample">
gnuplot&gt; set multiplot
multiplot&gt; plot x
multiplot&gt; plot x*x
multiplot&gt; plot x*x*x
multiplot&gt; set nomultiplot
</pre>

<img src="fig/sample5.10a.png" alt="fig/sample5.10a" align="left" width="400" height="300">
<p> XやYの範囲を指定しないと，gnuplotが範囲を自動的に決めてしまうので，3
     つのプロットの範囲がバラバラになり，めちゃくちゃな図になってしまい
     ます．XとYの範囲を[-10:10]に固定してみましょう．凡例も重なってしま
     うので，<tt> no key </tt>で消しておきます</p>
<br clear="all">


<pre class="sample">
gnuplot&gt; set xrange [-10:10]
gnuplot&gt; set yrange [-10:10]
gnuplot&gt; set nokey
gnuplot&gt; set multiplot
multiplot&gt; plot x
multiplot&gt; plot x*x
multiplot&gt; plot x*x*x
multiplot&gt; set nomultiplot
</pre>

<img src="fig/sample5.10b.png" alt="fig/sample5.10b" align="left" width="400" height="300">
<p> きれいに重なりました．でもこれだけのことなら，multiplotでなくとも，
普通のプロットで出来る事です．multiplotでは，個々の図を描く位置を毎回
少しづつ変えながら，元の図と重ならないようにして複数の図を一枚に入れて
しまうことができます</p>

<p> そのためには，<tt> set size </tt>と <tt> set origin </tt>を使います．
     sizeで個々の図をこれで縮小します．originは図を描く位置を指定するも
     のです．0,0なら画面左下が図の左下と一致し，0.5,0.5なら，図の左下が
     画面中央に来ます．</p>
<br clear="all">

<p> multiplotの例として，4つのリサージュ図形を一枚に入れてみましょう．
リサージュは，x=sin(n*t), y=sin(m*t)の2つの関数を媒介変数表示することで
描けます．ここでは，n=3,5，m=2,4と変えたものを作ってみましょう．</p>

<pre class="sample">
gnuplot&gt; set parametric

        dummy variable is t for curves, u/v for surfaces
gnuplot&gt; set noxtic
gnuplot&gt; set noytic
gnuplot&gt; set nokey
gnuplot&gt; set size square 0.3,0.3
gnuplot&gt; set rmargin 0 
gnuplot&gt; set lmargin 0 
gnuplot&gt; set tmargin 0 
gnuplot&gt; set bmargin 0 
gnuplot&gt; set multiplot
multiplot&gt; set origin 0.1,0.1
multiplot&gt; plot sin(3*t),cos(2*t)
multiplot&gt; set origin 0.1,0.5    
multiplot&gt; plot sin(3*t),cos(4*t) 
multiplot&gt; set origin 0.5,0.1    
multiplot&gt; plot sin(5*t),cos(2*t) 
multiplot&gt; set origin 0.5,0.5    
multiplot&gt; plot sin(5*t),cos(4*t) 
multiplot&gt; set nomultiplot
</pre>

<div align="center"><img src="fig/sample5.10c.png" alt="fig/sample5.10c" width="400" height="300"></div>

<p> noxticとnoyticで目盛を非表示にしたり，4辺のmarginを0にしているのは，
4つの図の大きさを同じにするためです．</p>

<p> 実際にmultiplotを使うと分かりますが，個々の図の正確な位置決めやサ
イズの調整は案外難しいものです．上の例の様に，長方形の画面に正方形の図
を配置する場合は，originに与える数値をcut-and-tryで調整する必要があり
ます．特に，個々の図に目盛や軸名が着いていると図の大きさがそれによって
変化してしまいますので，位置決めがさらに難しくなります．</p>



<div class="top"><a href="plot3.html#top"><img src="image/mark-up.png" alt="up"></a></div>
<h2><a name="5.11">格子(grid)を小目盛の所にも描きたい．</a></h2>

<p> <tt>set grid </tt>でグリッド(格子)が描かれますが，
標準では大目盛(tics)のある所だけに
しか描かれません．小目盛を設定して，ここにもグリッドを描くには，次のようにします．</p>

<pre class="sample">
gnuplot&gt; set mxtics 5
gnuplot&gt; set mytics 5
gnuplot&gt; set grid xtics ytics mxtics mytics
</pre>

<p>これで，大目盛を5分割した所にも格子が描かれます．<tt>set grid </tt>の
     部分を見てもらうとわかるように，<tt>xtics ... mytics</tt> の部分で，
     どの目盛に格子を描くかを制御できます．<tt> set grid noxtics noytics
     mxtics mytics </tt> とすれば，小目盛の所だけに格子が描かれます(こん
     な事する人は居ないでしょうが．．．)</p>

<div class="top"><a href="plot3.html#top"><img src="image/mark-up.png" alt="up"></a></div>
</td></tr></table>
<hr class="topsep">


</body>
</html>

