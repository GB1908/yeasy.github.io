<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="ja">
<head>
<title> gnuplot / plot3d (1)</title>
<!-- Generated 1999/ 7/23 -->
<!-- $Id: plot3d.html,v 1.13 2004/12/21 06:51:55 kawano Exp $ -->
<meta http-equiv="content-type" content="text/html;charset=iso-2022-jp">
<link rel="stylesheet" href="style-new.css" type="text/css">
</head>
<body>

<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr><td bgcolor="#cccc90" width="320">
    <div align="left">
    <a href="index.html">
    <img src="image/gnuplot_logo2.png" alt="GNUPLOT" width="320" height="90">
    </a></div></td>
    <td bgcolor="#cccc90">
      <div align="center"><h3> - not so Frequently Asked Questions - </h3> </div>
      <div class="update"> update 2004/9/5 </div>
    </td>
</tr>
<tr><td bgcolor="#fae8ba"></td>
    <td bgcolor="#fae8ba"><div class="navi"> 
<a href="index.html">           HOME </a> |
<a href="intro/index.html">     INTRODUCTION </a> |
<a href="general.html">         INFORMATION </a> |
<a href="gallery/index.html">   GALLERY </a> |
<a href="plot3d-e.html">        ENGLISH </a>
</div></td></tr>
</table>
<hr class="topsep">


<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr><td id="menu">
 <p> not so FAQ</p>
  <ul>
    <li><a href="legend.html">      凡例(Legend) </a>
    <li><a href="tics.html">        目盛(Tics) </a>
    <li><a href="label.html">       ラベル(Label) </a>
    <li><a href="plot1.html">       2次元プロット </a>
    <li><a href="plot3d.html">      3次元プロット </a>
    <ul>
      <li><a href="plot3d.html#6.1">
           Z軸のゼロ点 </a>
      <li><a href="plot3d.html#6.2">
           メッシュを細かく </a>
      <li><a href="plot3d.html#6.3">
           角度 </a>
      <li><a href="plot3d.html#6.4">
           等高線 </a>
      <li><a href="plot3d.html#6.5">
           等高線を2次元プロット </a>
      <li><a href="plot3d2.html#6.6">
           3次元格子 </a>
      <li><a href="plotpm3d.html#6.7">
           3次元カラー表示 </a>
          <a href="version.html"><b>[ver.4]</b></a>
      <li><a href="plotpm3d.html#6.8">
           等高線を色で表示 </a>
          <a href="version.html"><b>[ver.4]</b></a>
      <li><a href="plotpm3d.html#6.9">
           疑似3次元棒グラフ </a>
      <li><a href="plotpm3d2.html#6.10">
           pm3dの色を変える </a>
          <a href="version.html"><b>[ver.4]</b></a>
    </ul>
    <li><a href="polar.html">       極座標プロット </a>
    <li><a href="parametric.html">  媒介変数表示 </a>
    <li><a href="datafile.html">    データファイルの数値 </a>
    <li><a href="postproc.html">    図を描いたその後は</a>
    <li><a href="misc1.html">       その他 </a>
  </ul>
 <br>
</td>


<td id="content">


<h1><a name="top"> 3次元プロットのあれこれ (その1) </a></h1>

<div align="center">
<a href="plot3d.html">    1 </a> | 
<a href="plot3d2.html">   2 </a> |
<a href="plotpm3d.html">  3 </a> |
<a href="plotpm3d2.html"> 4 </a>
</div>

<h2><a name="6.1">Z軸のゼロ点がXY平面から離れてしまう．</a></h2>

<p> <tt>splot</tt>では，Z軸の原点は，XY平面から少し離れた所にきます．こ
     れをXY平面上に持ってきたいときには，<tt> set ticslevel </tt>を使い
     ます．ticslevelの値を0にすると，Z軸の原点がXY平面と一致します．</p>

<pre class="sample">
gnuplot&gt; set ticslevel 0
gnuplot&gt; splot (x**2)*(y**2)
</pre>
<div align="center"><img src="fig/sample6.1.png" alt="fig/sample6.1" width="363" height="199"></div>



<div class="top"><a href="plot3d.html#top"><img src="image/mark-up.png" alt="up"></a></div>
<h2><a name="6.2">もっとメッシュを細かくしたい．</a></h2>

<p> 関数を3次元プロットするときの，メッシュ(XY座標)の間隔は
<tt>isosample </tt>で決まります．この数値が小さい程メッシュは荒くなり，大き
くするとメッシュは細かくなります．標準値は10です．</p>


<p>メッシュが荒すぎると隠線処理<tt> set hidden3d </tt>の時に問題になりま
す．下の例は，標準値10で関数 z=sin(x)*cos(y)をプロットしたものです．上
側が隠線処理をしない場合，下は隠線処理をした場合です．</p>

<div align="center"><img src="fig/sample6.2a.png" alt="fig/sample6.2a" width="410" height="240">
        <img src="fig/sample6.2b.png" alt="fig/sample6.2b" width="411" height="241"></div>

<p>これを避けるには，isosampleの値を大きくします．下の例では40に
しています．X,Yそれぞれのメッシュ間隔を別々に変えるには，
<tt>set isosample 20,40</tt>のように2つの値を与えます．</p>

<pre class="sample">
gnuplot&gt; set isosample 40
</pre>
<div align="center">
  <img src="fig/sample6.2c.png" alt="fig/sample6.2c" width="411" height="247">
  <img src="fig/sample6.2d.png" alt="fig/sample6.2d" width="412" height="254">
</div>




<div class="top"><a href="plot3d.html#top"><img src="image/mark-up.png" alt="up"></a></div>
<h2><a name="6.3">見る角度を変えたい．</a></h2>

<p> 3次元表示での視点は，<tt>set view</tt>によって制御されます．
標準の設定は，</p>
<pre class="sample">
gnuplot&gt; show view

        view is 60 rot_x, 30 rot_z, 1 scale, 1 scale_z
</pre>

<p>となっています．回転させる前は，画面上にXY平面があり，Z軸は画面に垂直
方向となっています．</p>

<div align="center"><img src="fig/sample6.3a.png" alt="fig/sample6.3a" width="400" height="220"></div>

<p> まずX軸を60度(rot_x)回転させます．この結果Z軸は画面に対して
傾いた方向に変わります．</p>

<div align="center"><img src="fig/sample6.3b.png" alt="fig/sample6.3b" width="400" height="220"></div>

<p> 次に，新しいZ軸に対して30度(rot_z)回転します．これがsplotで
描かれる標準の視点です．</p>

<div align="center"><img src="fig/sample6.3c.png" alt="fig/sample6.3c" width="400" height="220"></div>

<p> <tt>set view</tt>で回転角を変えると，図が回転します．</p>
<div align="center"><table border="0">
<tr><td><img src="fig/sample6.3d.png" alt="fig/sample6.3d" width="400" height="220"></td>
    <td align="center"> set view 60,15 </td></tr>
<tr><td><img src="fig/sample6.3e.png" alt="fig/sample6.3e" width="400" height="220"></td>
    <td align="center"> set view 60,45 </td></tr>
<tr><td><img src="fig/sample6.3f.png" alt="fig/sample6.3f" width="400" height="220"></td>
    <td align="center"> set view 60,75 </td></tr>
<tr><td><img src="fig/sample6.3g.png" alt="fig/sample6.3g" width="400" height="220"></td>
    <td align="center"> set view 15,30 </td></tr>
</table></div>





<div class="top"><a href="plot3d.html#top"><img src="image/mark-up.png" alt="up"></a></div>
<h2><a name="6.4">等高線を変えたい．</a></h2>

<p> 等高線は，<tt> set cntrparam </tt>で制御できます．</p>

<pre class="sample">
gnuplot&gt; set contour
gnuplot&gt; set cntrparam levels 10
gnuplot&gt; set cntrparam levels incremental -1, 0.2, 1
gnuplot&gt; set cntrparam levels discrete -0.2, -0.5, 0.2, 0.5
</pre>

<p>上では3通りの設定方法を示しています．<tt>levels</tt>では，等高線を何
     段階に分けて描くかで与えます．上の例では10段階に設定しています．
     <tt>incremental</tt>は，等高線を描く高さを，初期値・増分・最終値で
     与えます．最後の<tt>discrete</tt>では，等高線を描く高さを直接列挙し
     ています．</p>

<p>等高線の凡例は，プロットの凡例と同じ所に描かれます．等高線の凡例だけ
     を消すには，<tt> set noclabel </tt>を使います．この時，全ての等高線
     の線の種類は同一(表面をプロットするのに使われている線種の次の線種)
     になります．</p>

<p>等高線の線種は，表面をプロットしている線種の次のものから順番に使われ
     ます．等高線の線種を自由に制御する方法は無いようです．この場合は，
     tgif等のファイルに落して編集すれば良いでしょう．</p>




<div class="top"><a href="plot3d.html#top"><img src="image/mark-up.png" alt="up"></a></div>
<h2><a name="6.5">等高線だけを2次元プロットにして描きたい．</a></h2>

<p> 3次元表示での視点を真上にすれば，等高線だけの2次元プロットになりま
す．まず，3次元表示をした後，<tt> set view </tt>で視点を0,0に変更しま
す．また，表面を描かないように <tt> set nosurface </tt>を指定します．</p>

<pre class="sample">
gnuplot&gt; set contour base
gnuplot&gt; set nosurface
gnuplot&gt; set view 0,0
</pre>

<div align="center">
<img src="fig/sample6.5a.png" alt="fig/sample6.5a" width="353" height="210">
</div>
<div align="center"> set view 60,30 </div>
<div align="center">
<img src="fig/sample6.5b.png" alt="fig/sample6.5b" width="307" height="188">
</div>
<div align="center"> set view 0,0 </div>

<p> <tt>set view 0,0</tt>にすると，Y軸は図の右側に来ます．図の左に移動
したければ，<tt>set view 180,180</tt>にします．但し，Y軸にlabelを付け
たとき，普通の2次元プロットであれば，文字列はY軸に沿って下から上に向かっ
て表示されますが，この様に3次元プロットを2次元にして見ると，Y labelは
常に横向きになります．通常の2次元プロットと同じようにするには，下で述
べているtableを使うとよいでしょう．</p>

<p> ターミナルを table にして等高線の座標を一旦ファイルに書き出し，そ
れを2次元プロットすれば，もう少しきれいな等高線図を作ることができます．
ぷろっとぎゃらりぃに<a href="gallery/cal6.html">具体例</a>があります．
</p>

<pre class="sample">
gnuplot&gt; set term table
gnuplot&gt; set output "table.dat"
gnuplot&gt; replot
gnuplot&gt; set output
gnuplot&gt; set term x11
gnuplot&gt; plot "table.dat" using 1:2 with lines
</pre>


<p class="newver"> [ver.4] ONLY ! </p>

<p>なお，pm3dを使えば，<a href="plotpm3d.html#6.8"> カラーマップを使った2次元プロット</a>を簡単に作成できます．</p>




<div class="top"><a href="plot3d.html#top"><img src="image/mark-up.png" alt="up"></a></div>
</td></tr></table>
<hr class="topsep">


</body>
</html>

