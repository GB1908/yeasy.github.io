<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="ja">
<head>
<title> gnuplot / esub / index </title>
<!-- Generated 2001/ 5/ 8 -->
<!-- $Id: index.html,v 1.7 2004/12/04 10:01:40 kawano Exp $ -->
<meta http-equiv="content-type" content="text/html;charset=iso-2022-jp">
<link rel="stylesheet" href="../style-new.css" type="text/css">
</head>

<body>

<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr><td bgcolor="#cccc90" width="320">
    <div align="left">
    <a href="../index.html">
    <img src="../image/gnuplot_logo2.png" alt="GNUPLOT" width="320" height="90">
    </a></div></td>
    <td bgcolor="#cccc90">
      <div align="center"><h3> - not so Frequently Asked Questions - </h3> </div>
      <div class="update"> update 2004/11/29 </div>
    </td>
</tr>
<tr><td bgcolor="#fae8ba"></td>
    <td bgcolor="#fae8ba"><div class="navi"> 
<a href="../index.html">          HOME </a> |
<a href="../intro/index.html">    INTRODUCTION </a> |
<a href="../general.html">        INFORMATION </a> |
<a href="../gallery/index.html">  GALLERY </a> |
<a href="index-e.html">           ENGLISH </a>
</div></td></tr>
</table>
<hr class="topsep">


<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr><td id="menu">
 <p> <a href="index.html#1"> 図を作る際の注意 </a></p>
 <p> <a href="index.html#2"> TeXでまとめる </a></p>
 <p> <a href="index.html#3"> 横向きの図を作る </a></p>
 <p> <a href="index.html#4"> ページ毎のPostscriptを作る </a></p>
 <p> <a href="index.html#5"> 完成品 </a></p>
</td>

<td id="content">

<h1><a name="top"> 学術論文の投稿にgnuplotを利用する例 </a></h1>


<p> ここでは，学術論文を投稿するときに添付する図をgnuplotとTeXで作る方
法を紹介します．論文投稿の際の図のフォーマットは学会誌の規程毎に違いま
すので，あくまで一例です．</p>

<p> 論文の図を送付する一般的な方法は，図を別紙にまとめておきcaptionだ
けの紙を添付する，captionを図中に入れる，の2通りが考えられます．
captionの入れ方によってちょっと方法が異なりますが，やりかたそのものは
同じです．これをLaTeX2eで作ります．</p>

<ol>
 <li> <a href="index.html#1"> 図を作る際の注意 </a>
 <li> <a href="index.html#2"> TeXでまとめる </a>
 <li> <a href="index.html#3"> 横向きの図を作る </a>
 <li> <a href="index.html#4"> ページ毎のPostscriptを作る </a>
 <li> <a href="index.html#5"> 完成品 </a>
</ol>



<h2><a name="1"> 図を作る際の注意 </a></h2>

<p> 最初に図だけをgnuplotを使ってEPSで作っておきます．その際，以下の点
に注意します．</p>
<ul>
 <li> グラフの出力は，<tt> set term postscript eps enhanced </tt>で行う．
      色付きの図を受け付けてくれるなら，<tt> color </tt>のオプションを付ける．

 <li><a href="../plot2.html#5.7"> 目盛の数字と軸のラベル，凡例の文字を
      大きくすること</a><br>

      論文出版の際には図は縮小されますので，文字が小さいと潰れて読めま
      せん．そのため，字が小さいと間違い無く編集者から文句を言われます．
      描いている図にもよりますが，A4の紙一枚に2次元プロット図を一つ入
      れるばあいには，以下のようにsizeを0.6くらいに縮小してEPSを作成し，
      後で全体を拡大すると丁度良いようです．<br>

<pre class="sample">
gnuplot&gt; set size 0.6,0.6
</pre>

 <li> 複数のプロットを1つにまとめるには，
     <a href="../plot1.html#5.1">図の大きさを揃えておくこと</a><br>

     複数のプロットを組み合わせて一つの図として表示する際には，それぞ
     れのプロットの大きさが同じでないとバランスが悪くなります．

 <li> gnuplot以外のソフトを用いて作成した図も，全てEPSで保存しておけば，
      同様の方法で全体をまとめることができます．
</ul>

<p> 例としていくつかの関数をgnuplotを使って描いたファイルを用意しました．</p>
 <ul>
   <li> Bessel関数J0,J1,Y0,Y1をplotする<a href="figure.plt">ファイル</a>
   <li> 作成されたEPS <a href="besj0.eps"> J0</a>,
                      <a href="besj1.eps"> J1</a>,
                      <a href="besy0.eps"> Y0</a>,
                      <a href="besy1.eps"> Y1</a>
 </ul>



<div class="top"><a href="index.html#top"><img src="../image/mark-up.png" alt="up"></a></div>
<h2><a name="2"> TeXでまとめる </a></h2>

<p> A4サイズの紙一枚につき図一つを入れたものを，論文に添付して投稿する
方法を考えます．Figの番号が10まであれば，それらを用紙10枚に分けて印刷
するという意味です．また，各用紙には，図の番号やcaption，投稿者の名前
と所属を書き込んでおくように指定されている場合がありますので，必要に
応じてこれらも入れるようにします．</p>

<p> 上で作った4つのEPSをA4サイズのPostscriptに作り変えます．LaTeX2eの
graphics (or graphicx)パッケージを用います．figure.texという名のファイ
ルを用意して，gnuplotで作ったEPSをこの中に取り込みます．ファイルの始め
の部分を以下に示します．</p>

<pre class="file">
\documentclass[12pt]{article}
\oddsidemargin   0mm
\evensidemargin  0mm
\topmargin       0mm
\headheight      0mm
\headsep         0mm
\topskip         0mm
\textwidth     160mm   % 210 - 25x2 mm
\textheight    235mm   % 297 - 30x2 -2 mm
\baselineskip  12pt    % single space
\usepackage[dvips]{graphics}
\begin{document}
\pagestyle{empty}
</pre>

<p><tt>\includegraphics</tt>でEPSを取り込み，<tt>\resizebox </tt>を使っ
て図の横幅がdocumentの横幅程度になるようにEPSを拡大します．ページの上の
方に図の番号と著者名・所属を書き込んでおきます．次の例では，これらを
右寄せにして表示しています．</p>

<pre class="file">
\begin{flushright} 
  Fig.~1~:~ Kawano, T. (LANL) 
\end{flushright}
\vskip 1cm
\begin{center}
  \resizebox{150mm}{!}{\includegraphics{besj0.eps}}
\end{center}
\clearpage
</pre>

<p> 図のcaptionまで含める場合は，figure環境を用います．この場合は図に
ラベルを付けることができますので，2行目の図の番号にカウンタを用いるこ
とができます(勿論，上の例でも自分でカウンタを作れば可能ですが)</p>

<pre class="file">
\begin{flushright} 
  Fig.~\ref{besj0}~:~ Kawano, T. (LANL) 
\end{flushright}
\vskip 1cm
\begin{figure}[b!]
  \begin{center}
    \resizebox{150mm}{!}{\includegraphics{besj0.eps}}
    \caption{Bessel function, $J_0$.}
    \label{besj0}
  \end{center}
\end{figure}
\clearpage
</pre>


<p> 複数のプロットをまとめて一つの図にするには，tabular環境を使って配
置すると簡単です．上の4つのEPSを2行2列にまとめて一つの図にしてみます．</p>

<pre class="file">
\begin{flushright} 
  Fig.~5~:~ Kawano, T. (LANL) 
\end{flushright}
\vskip 1cm
\begin{center}
  \begin{tabular}{cc}
     \resizebox{70mm}{!}{\includegraphics{besj0.eps}} &gt;
     \resizebox{70mm}{!}{\includegraphics{besj1.eps}} \\
     \resizebox{70mm}{!}{\includegraphics{besy0.eps}} &gt;
     \resizebox{70mm}{!}{\includegraphics{besy1.eps}} \\
  \end{tabular}
\end{center}
\clearpage
</pre>

<p> 図の文字はさらに小さくなりますので注意が必要です．上の例でも，もう少し
字が大きくなるようにEPSを作り直した方が良いでしょう．</p>



<div class="top"><a href="index.html#top"><img src="../image/mark-up.png" alt="up"></a></div>
<h2><a name="3"> 横向きの図を作る </a></h2>

<p> 横長の図をA4縦の紙に印刷するには，<tt> \rotatebox </tt>でEPSを90度
回転させます．横向きにすると，図をもう少し大きく拡大できます．下の例で
は図の横長さ(印刷では縦の長さ)を20cmに伸ばしました．</p>

<pre class="file">
\begin{flushright} 
  Fig.~6~:~ Kawano, T. (LANL) 
\end{flushright}
\vskip 1cm
\begin{center}
  \rotatebox{90}{%
     \resizebox{200mm}{!}{\includegraphics{besy1.eps}}}
\end{center}
\clearpage
</pre>



<div class="top"><a href="index.html#top"><img src="../image/mark-up.png" alt="up"></a></div>
<h2><a name="4"> ページ毎のPostscriptを作る </a></h2>

<p> 以上の方法でFig.1〜6までを作るTeXファイルは，以下のようになります．</p>
<ul>
  <li> <a href="figure2.tex"> figure環境を使わない場合 </a>
  <li> <a href="figure1.tex"> figure環境を使う場合 </a>
</ul>

<p> このTeXファイルをコンパイルし，dvipsでPSファイルを作れば，投稿用図の
完成です．</p>

<pre class="sample">
% latex figure.tex
% dvips figure.dvi -o figure.ps
</pre>

<p> figure.psの中に，Fig.1から6までの図が，それぞれ一つの図につき1ペー
ジづつに分けられて入ります．このPSファイルを印刷すれば6枚の図が完成で
す．</p>

<p> <a href="http://www.aps.org/">American Physical Society</a>の
<a href="http://publish.aps.org/">esub</a>システムのようにPostscriptでsubmit
できる場合は，図一つに対してPSファイルを一つ用意しますが，これもdvips
を使うと簡単にできます．</p>

<pre class="sample">
% dvips figure.dvi -pp 1-1 -o figure1.ps
% dvips figure.dvi -pp 2-2 -o figure2.ps
% dvips figure.dvi -pp 3-3 -o figure3.ps
% dvips figure.dvi -pp 4-4 -o figure4.ps
% dvips figure.dvi -pp 5-5 -o figure5.ps
% dvips figure.dvi -pp 6-6 -o figure6.ps
</pre>



<div class="top"><a href="index.html#top"><img src="../image/mark-up.png" alt="up"></a></div>
<h2><a name="5"> 完成品 </a></h2>

<div align="center"><table border="0">
<tr>
  <td> <a href="fig1.png"> <img src="fig1s.png" width="234" height="331" alt="fig1"> </a></td>
  <td> <a href="fig2.png"> <img src="fig2s.png" width="234" height="331" alt="fig2"> </a></td>
</tr>
<tr>
  <td> <a href="figure1.ps"> figure1.ps </a></td>
  <td> <a href="figure2.ps"> figure2.ps </a></td>
</tr>
</table></div>

<div align="center"><table border="0">
<tr>
  <td> <a href="fig3.png"> <img src="fig3s.png" width="234" height="331" alt="fig3"> </a></td>
  <td> <a href="fig4.png"> <img src="fig4s.png" width="234" height="331" alt="fig4"> </a></td>
</tr>
<tr>
  <td> <a href="figure3.ps"> figure3.ps </a></td>
  <td> <a href="figure4.ps"> figure4.ps </a></td>
</tr>
</table></div>

<div align="center"><table border="0">
<tr>
  <td> <a href="fig5.png"> <img src="fig5s.png" width="234" height="331" alt="fig5"> </a></td>
  <td> <a href="fig6.png"> <img src="fig6s.png" width="234" height="331" alt="fig6"> </a></td>
</tr>
<tr>
  <td> <a href="figure5.ps"> figure5.ps </a></td>
  <td> <a href="figure6.ps"> figure6.ps </a></td>
</tr>
</table></div>


<div class="top"><a href="index.html#top"><img src="../image/mark-up.png" alt="up"></a></div>
</td></tr></table>
<hr class="topsep">

</body>
</html>
